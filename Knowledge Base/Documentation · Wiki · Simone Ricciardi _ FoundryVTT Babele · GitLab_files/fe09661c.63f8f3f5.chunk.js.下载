(this.webpackJsonp=this.webpackJsonp||[]).push([["fe09661c","7ed51fe2"],{"+4oz":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getUserAgentFlows"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"before"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"excludeTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"DuoWorkflowsWorkflowSort"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"statusGroup"}},type:{kind:"NamedType",name:{kind:"Name",value:"DuoWorkflowStatusGroup"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duoWorkflowWorkflows"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}},{kind:"Argument",name:{kind:"Name",value:"before"},value:{kind:"Variable",name:{kind:"Name",value:"before"}}},{kind:"Argument",name:{kind:"Name",value:"excludeTypes"},value:{kind:"Variable",name:{kind:"Name",value:"excludeTypes"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"statusGroup"},value:{kind:"Variable",name:{kind:"Name",value:"statusGroup"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FlowFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:651}};i.loc.source={body:'#import "../fragments/flow.fragment.graphql"\n\nquery getUserAgentFlows(\n  $after: String\n  $before: String\n  $first: Int\n  $last: Int\n  $excludeTypes: [String!]\n  $search: String\n  $sort: DuoWorkflowsWorkflowSort\n  $statusGroup: DuoWorkflowStatusGroup\n  $type: String\n) {\n  duoWorkflowWorkflows(\n    first: $first\n    after: $after\n    last: $last\n    before: $before\n    excludeTypes: $excludeTypes\n    search: $search\n    sort: $sort\n    statusGroup: $statusGroup\n    type: $type\n  ) {\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n    edges {\n      node {\n        ...FlowFragment\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("40X6").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.getUserAgentFlows=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,l=new Set;for(i.forEach((function(e){l.add(e)}));l.size>0;){var s=l;l=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getUserAgentFlows")},"/w+w":function(e,t,n){"use strict";var i={props:{heading:{type:String,required:!1,default:null},inlineActions:{type:Boolean,required:!1,default:!1}}},a=n("tBpV"),r=Object(a.a)(i,(function(){var e=this,t=e._self._c;return t("header",{staticClass:"gl-my-5 gl-flex gl-flex-wrap gl-items-center gl-justify-between gl-gap-y-3"},[t("div",{staticClass:"gl-flex gl-w-full gl-flex-wrap gl-justify-between gl-gap-x-5 gl-gap-y-3 @md/panel:gl-flex-nowrap"},[t("h1",{staticClass:"gl-heading-1 !gl-m-0",attrs:{"data-testid":"page-heading"}},[e._t("heading"),e._v(" "),e.$scopedSlots.heading?e._e():[e._v(e._s(e.heading))]],2),e._v(" "),e.$scopedSlots.actions?t("div",{staticClass:"page-heading-actions gl-flex gl-shrink-0 gl-flex-wrap gl-items-center gl-gap-3 @md/panel:gl-mt-1 @lg/panel:gl-mt-2",class:{"gl-w-full @sm/panel:gl-w-auto":!e.inlineActions,"gl-w-auto":e.inlineActions},attrs:{"data-testid":"page-heading-actions"}},[e._t("actions")],2):e._e()]),e._v(" "),e.$scopedSlots.description?t("div",{staticClass:"gl-w-full gl-text-subtle",attrs:{"data-testid":"page-heading-description"}},[e._t("description")],2):e._e()])}),[],!1,null,null,null);t.a=r.exports},"40X6":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FlowFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DuoWorkflow"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"humanStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflowDefinition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateDuoWorkflow"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"namespace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:255}};n.loc.source={body:"fragment FlowFragment on DuoWorkflow {\n  id\n  status\n  humanStatus\n  updatedAt\n  workflowDefinition\n  userId\n  userPermissions {\n    updateDuoWorkflow\n  }\n  project {\n    id\n    name\n    webUrl\n    namespace {\n      id\n      name\n      webUrl\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FlowFragment=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var s=l;l=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){l.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FlowFragment")},"6z+6":function(e,t,n){"use strict";n.r(t),n.d(t,"initDuoPanel",(function(){return ne}));var i=n("ewH8"),a=n("GiFX"),r=n("5v28"),o=n("NmEs"),l=n("/lV4"),s=n("lRsd"),u=n("zIgz"),c=n("x+pc"),d=(n("v2fZ"),n("COl3")),h=n("3cHC"),f=n("kTs6");const g="duo_agents_platform_last_route",p=function(e){return e?`${g}_${e}`:g},m=function(e,t=g){e.name&&Object(d.c)(t,{name:e.name,params:e.params||{}})},b=function(e,t={}){const{defaultRoute:n=f.a,context:i=null,storageKey:a=null}=t,r=a||p(i),o=function(e=g){const{exists:t,value:n}=Object(d.a)(e);return t?n:null}(r)||{name:n};return e.push(o).catch((function(){return function(e=g){Object(d.b)(e)}(r),e.push({name:n})}))};var v=n("wdUq");i.default.use(s.a);const y=function(e,t){const n=new s.a({base:e,mode:"abstract",routes:[{component:u.a,path:"/agent-sessions",meta:{text:Object(l.i)("DuoAgentsPlatform|Sessions")},children:[{name:f.a,path:"",component:Object(v.a)(t)},{name:f.b,path:":id(\\d+)",component:c.a,beforeEnter(e,t,n){m(e,p("side_panel")),n()}}]}]});return function({router:e,context:t=null,storageKey:n=null}){const i=n||p(t);e.afterEach((function(e){m(e,i)}))}({router:n,context:"side_panel"}),n.beforeEach((function(e,t,n){!function({path:e}){const{activeTab:t,lastRoutePerTab:n}=h.A;t&&e&&(n||(h.A.lastRoutePerTab={}),h.A.lastRoutePerTab[t]=e)}(e),n()})),i.default.nextTick((function(){b(n,{context:"side_panel"})})),n};var k=n("FZuQ"),w=n("sIbO"),S=n("J6Lq"),j=n("gIYQ"),C=n("pC95"),O=n("LB5R"),A=n("PSmN"),x=n("nwJz"),_=n("oF0E"),T=n("t6N5"),D=n("CbCZ"),N=n("2TqH"),I=n("zIFf"),F=n("Mp8J"),P=n("H63F"),E=n("9uJu"),q=n("udiD"),L={name:"AiContentContainer",expose:["getContentComponent"],components:{GlButton:D.a,AgentStatusIcon:P.a,GlDisclosureDropdown:N.a},directives:{GlTooltip:I.a,SafeHtml:F.a},inject:["chatConfiguration"],i18n:{collapseButtonLabel:Object(l.a)("Collapse panel"),moreOptionsLabel:Object(l.a)("More options"),copySessionIdTooltip:Object(l.a)("Copy Chat Session ID (%{id})"),sessionIdCopiedToast:Object(l.a)("Session ID copied to clipboard"),sessionIdCopyFailedToast:Object(l.a)("Could not copy session ID")},props:{activeTab:{type:Object,required:!0,validator:e=>"string"==typeof(null==e?void 0:e.title)},showBackButton:{type:Boolean,required:!1,default:!1},userId:{type:String,required:!1,default:null},projectId:{type:String,required:!1,default:null},namespaceId:{type:String,required:!1,default:null},rootNamespaceId:{type:String,required:!1,default:null},resourceId:{type:String,required:!1,default:null},metadata:{type:String,required:!1,default:null},userModelSelectionEnabled:{type:Boolean,required:!1,default:!1},selectedAgent:{type:Object,required:!1,default:function(){return{}}},isMaximized:{type:Boolean,required:!0}},data:()=>({currentTitle:null,duoChatGlobalState:h.A,agentSessionStatus:Object(x.a)(),sessionId:null,isSessionDropdownVisible:!1}),computed:{goBackTitle:()=>Object(l.a)("Go back"),maximizeButtonLabel(){return this.isMaximized?Object(l.a)("Minimize panel"):Object(l.a)("Maximize panel")},componentKey(){var e;return`${(null===(e=this.activeTab.component)||void 0===e?void 0:e.name)||"component"}-${this.duoChatGlobalState.chatMode}`},showAgentStatusIcon(){return this.$route.name===f.b&&Boolean(this.agentSessionStatus)},sessionText(){return Object(l.j)(this.$options.i18n.copySessionIdTooltip,{id:this.sessionId})},sessionIdItems(){var e=this;return[{text:this.sessionText,action:function(){e.copySessionIdToClipboard()}}]},showSessionDropdownTooltip(){return this.isSessionDropdownVisible?"":this.$options.i18n.moreOptionsLabel}},watch:{"activeTab.title":{handler(e){this.currentTitle&&this.currentTitle===e||(this.currentTitle=null)}}},mounted(){var e=this;const t=function(){e.unsubscribe=x.a.onNextChange((function(n){e.agentSessionStatus=n,t()}))};t()},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{handleGoBack(){this.$emit("go-back")},onSwitchToActiveTab(e){this.$emit("switch-to-active-tab",e)},handleTitleChange(e){this.currentTitle=null!=e?e:this.activeTab.title},getContentComponent(){return this.$refs["content-component"]},handleSessionIdChanged(e){this.sessionId=e},showSessionDropdown(){this.isSessionDropdownVisible=!0},hideSessionDropdown(){this.isSessionDropdownVisible=!1},async copySessionIdToClipboard(){try{await Object(E.a)(this.sessionId),Object(q.default)(this.$options.i18n.sessionIdCopiedToast)}catch{Object(q.default)(this.$options.i18n.sessionIdCopyFailedToast)}}}},G=n("tBpV"),V=Object(G.a)(L,(function(){var e=this,t=e._self._c;return t("aside",{staticClass:"ai-panel !gl-left-auto gl-flex gl-h-full gl-w-[var(--ai-panel-width)] gl-grow gl-flex-col gl-rounded-[1rem] gl-bg-default [contain:strict] lg:gl-mr-2",attrs:{id:"ai-panel-portal","aria-label":e.activeTab.title}},[t("div",{staticClass:"ai-panel-header gl-flex gl-h-[3.0625rem] gl-items-center gl-justify-between",class:{"gl-min-h-[3.0625rem]":"string"==typeof e.activeTab.component}},[t("div",{staticClass:"gl-flex gl-max-w-17/20 gl-flex-1 gl-shrink-0 gl-items-center gl-justify-start gl-gap-2 gl-overflow-hidden gl-truncate gl-text-ellipsis gl-whitespace-nowrap"},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"lg:gl-flex",class:{"!gl-hidden":!e.showBackButton},attrs:{icon:"go-back",category:"tertiary","aria-label":e.goBackTitle,title:e.goBackTitle,"data-testid":"content-container-back-button"},on:{click:e.handleGoBack}}),e._v(" "),e.showAgentStatusIcon?t("agent-status-icon",{attrs:{status:e.agentSessionStatus,"human-status":e.agentSessionStatus,"data-testid":"agent-status-icon"}}):e._e(),e._v(" "),t("h3",{staticClass:"gl-m-0 gl-truncate gl-text-sm",class:{"gl-ml-4":!e.showBackButton},attrs:{"data-testid":"content-container-title"}},[e._v("\n        "+e._s(e.currentTitle||e.activeTab.title)+"\n      ")])],1),e._v(" "),t("div",{staticClass:"ai-panel-header-actions gl-flex gl-gap-x-2 gl-pr-3"},[e.sessionId?t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.showSessionDropdownTooltip,expression:"showSessionDropdownTooltip"}],attrs:{icon:"ellipsis_v",category:"tertiary","text-sr-only":"",size:"small","toggle-text":e.$options.i18n.moreOptionsLabel,items:e.sessionIdItems,"no-caret":"","data-testid":"content-container-session-menu"},on:{shown:e.showSessionDropdown,hidden:e.hideSessionDropdown}}):e._e(),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],attrs:{icon:"dash",category:"tertiary",size:"small","aria-label":e.$options.i18n.collapseButtonLabel,title:e.$options.i18n.collapseButtonLabel,"aria-expanded":"","data-testid":"content-container-collapse-button"},on:{click:function(t){return e.$emit("closePanel",!1)}}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-hidden lg:gl-flex",attrs:{icon:e.isMaximized?"minimize":"maximize",category:"tertiary",size:"small","aria-label":e.maximizeButtonLabel,title:e.maximizeButtonLabel,"data-testid":"content-container-maximize-button"},on:{click:function(t){return e.$emit("toggleMaximize")}}})],1)]),e._v(" "),t("div",{staticClass:"ai-panel-body gl-grow gl-flex-wrap gl-justify-center gl-overflow-auto",class:{"gl-flex gl-min-h-full":"string"==typeof e.activeTab.component}},["string"==typeof e.activeTab.component?t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.activeTab.component,expression:"activeTab.component"}],staticClass:"gl-self-center gl-p-5"}):t(e.activeTab.component,e._b({key:e.componentKey,ref:"content-component",tag:"component",staticClass:"gl-h-full",attrs:{"user-id":e.userId,"project-id":e.projectId,"namespace-id":e.namespaceId,"root-namespace-id":e.rootNamespaceId,"resource-id":e.resourceId,metadata:e.metadata,"selected-agent":e.selectedAgent,"user-model-selection-enabled":e.userModelSelectionEnabled},on:{"switch-to-active-tab":e.onSwitchToActiveTab,"change-title":e.handleTitleChange,"session-id-changed":e.handleSessionIdChanged}},"component",e.activeTab.props,!1))],1)])}),[],!1,null,null,null).exports,R=n("GuZl"),$=n("d08M"),B=n("wQDE"),U=n("D+x4"),M=(n("3UXl"),n("iyoE"),n("UezY"),n("z6RN"),n("hG7+"),n("B++/"),n("47t/"),n("yi8e")),K=n("HTBS"),W=n("d85j"),z=n("93nq"),H=n("7F3p"),J=n("fAFD"),Q={name:"NewChatButton",components:{GlAvatar:K.a,GlIcon:W.a,GlButton:D.a,GlCollapsibleListbox:z.a},directives:{GlTooltip:I.a},i18n:{addNewChat:Object(l.a)("Add new chat"),chatVerifiedAgent:Object(l.a)("Created and maintained by GitLab"),newLabel:Object(l.a)("New GitLab Duo Chat")},props:{projectId:{type:String,required:!1,default:null},namespaceId:{type:String,required:!1,default:null},activeTab:{type:String,required:!1,default:null},isExpanded:{type:Boolean,required:!1,default:!0},isChatDisabled:{type:Boolean,required:!1,default:!0},chatDisabledTooltip:{type:String,required:!1,default:null},isAgentSelectEnabled:{type:Boolean,required:!0}},apollo:{catalogAgents(){var e=this;return{...Object(J.b)(this.catalogAgentsVariables),skip(){return!this.isAgentSelectEnabled},update:e=>((null==e?void 0:e.aiCatalogConfiguredItems.nodes)||[]).map((function(e){return{...e.item,pinnedItemVersionId:e.pinnedItemVersion.id}})),error:function(t){e.$emit("newChatError",t),H.b(t)}}},foundationalAgents(){var e=this;return{...Object(J.c)(this.foundationalAgentsVariables),skip(){return!this.isAgentSelectEnabled},error:function(t){e.$emit("newChatError",t),H.b(t)}}}},data:()=>({catalogAgents:[],foundationalAgents:[],searchTerm:""}),computed:{...Object(M.f)(["currentAgent"]),agents(){return[...this.foundationalAgents,...this.catalogAgents].map((function(e){return{...e,text:e.name,value:e.id}}))},selectedAgentValue(){const e=this.currentAgent||this.agents[0];return(null==e?void 0:e.id)||null},catalogAgentsVariables(){return this.projectId?{projectId:this.projectId}:{groupId:this.namespaceId}},foundationalAgentsVariables(){return{projectId:this.projectId,namespaceId:this.namespaceId}},hasManyAgents(){return this.isAgentSelectEnabled&&this.agents.length>1},dropdownItems(){const e=this.searchTerm.trim();return this.agents.filter((function(t){return t.text.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)}))}},methods:{...Object(M.c)(["setCurrentAgent"]),handleStartNewChat(e){this.setCurrentAgent(this.getSelectedAgent(e)),this.$emit("new-chat")},getSelectedAgent(e){var t;return null===(t=this.agents)||void 0===t?void 0:t.find((function(t){return t.id===e}))},onSearch(e){this.searchTerm=e.toLowerCase()},clearSearchInput(){var e;this.searchTerm="",null===(e=this.$refs.customAgentSelector.$refs.searchBox)||void 0===e||e.clearInput()},onSelect(e){var t=this;let n=this.selectedAgentValue;e.length&&([n]=e.filter((function(e){return e!==t.selectedAgentValue}))),this.handleStartNewChat(n)}}},X=Object(G.a)(Q,(function(){var e=this,t=e._self._c;return e.hasManyAgents?t("gl-collapsible-listbox",{ref:"customAgentSelector",staticClass:"ai-nav-icon-agents",attrs:{title:e.$options.i18n.addNewChat,"toggle-text":e.$options.i18n.addNewChat,"aria-label":e.$options.i18n.addNewChat,"header-text":e.__("Choose an agent"),selected:e.selectedAgentValue,items:e.dropdownItems,"data-testid":"add-new-agent-toggle",category:"primary",variant:"default",size:"small",icon:"pencil-square",searchable:"","fluid-width":"","text-sr-only":"","no-caret":"",multiple:""},on:{select:e.onSelect,hidden:e.clearSearchInput,search:e.onSearch},scopedSlots:e._u([{key:"list-item",fn:function({item:n}){return[t("span",{staticClass:"gl-flex"},[t("gl-avatar",{attrs:{size:24,"entity-name":n.name,shape:"circle"}}),e._v(" "),t("span",{staticClass:"gl-flex gl-w-31 gl-flex-col gl-pl-3"},[t("span",{staticClass:"gl-mb-1 gl-inline-block gl-break-all gl-font-bold"},[e._v("\n          "+e._s(n.name)+"\n          "),n.foundational?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{name:"tanuki-verified",variant:"subtle",title:e.$options.i18n.chatVerifiedAgent}}):e._e()],1),e._v(" "),t("span",{staticClass:"gl-line-clamp-3 gl-text-sm gl-text-subtle"},[e._v("\n          "+e._s(n.description)+"\n        ")])])],1)]}}],null,!1,3971157341)}):t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],class:["ai-nav-icon",{"ai-nav-icon-active":"new"===e.activeTab,"gl-opacity-5":e.isChatDisabled}],attrs:{icon:"pencil-square",size:"small",category:"primary",variant:"default","aria-selected":"new"===e.activeTab,"aria-expanded":e.isExpanded,"aria-label":e.$options.i18n.newLabel,title:e.isChatDisabled?e.chatDisabledTooltip:e.$options.i18n.newLabel,role:"tab","aria-disabled":e.isChatDisabled,"data-testid":"ai-new-toggle"},on:{mouseout:function(t){return e.$emit("hideTooltips")},click:function(t){return e.$emit("new-chat")}}})}),[],!1,null,null,null).exports,Y={name:"NavigationRail",components:{GlButton:D.a,NewChatButton:X},directives:{GlTooltip:I.a},i18n:{duoChatLabel:Object(l.a)("Active GitLab Duo Chat"),currentChatLabel:Object(l.a)("Current GitLab Duo Chat"),historyLabel:Object(l.a)("GitLab Duo Chat history"),suggestionsLabel:Object(l.a)("GitLab Duo suggestions"),sessionsLabel:Object(l.a)("GitLab Duo sessions")},props:{activeTab:{type:String,required:!1,default:null},isExpanded:{type:Boolean,required:!1,default:!0},showSuggestionsTab:{type:Boolean,required:!1,default:!0},chatDisabledReason:{type:String,required:!1,default:""},projectId:{type:String,required:!1,default:null},namespaceId:{type:String,required:!1,default:null},isAgenticMode:{type:Boolean,required:!0}},computed:{duoShortcutKey(){return Object(B.b)()||this.isChatDisabled?null:Object($.Hb)($.b)},isChatDisabled(){return Boolean(this.chatDisabledReason)},chatDisabledTooltip(){return this.isChatDisabled?Object(l.j)(Object(l.a)("An administrator has turned off GitLab Duo for this %{reason}."),{reason:this.chatDisabledReason}):""},formattedDuoShortcutTooltip(){if(this.isChatDisabled)return this.chatDisabledTooltip;const e=this.isAgenticMode?this.$options.i18n.currentChatLabel:this.$options.i18n.duoChatLabel,t=Object($.Hb)($.b);return Object(B.b)()?e:Object(U.b)(`${e} <kbd class="flat gl-ml-1" aria-hidden=true>${t}</kbd>`)}},methods:{toggleTab(e){this.isChatDisabled||this.$emit("handleTabToggle",e)},handleNewChat(e){this.$emit("new-chat",e)},hideTooltips(){this.$root.$emit(R.c)},handleNewChatError(e){this.$emit("newChatError",e)}}},Z=Object(G.a)(Y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-ml-3 gl-flex gl-items-center gl-gap-5 gl-bg-transparent max-lg:gl-h-[var(--ai-navigation-rail-size)] max-lg:gl-flex-1 max-lg:gl-px-3 max-sm:gl-px-0 sm:gl-ml-0 lg:gl-mt-2 lg:gl-w-[var(--ai-navigation-rail-size)] lg:gl-flex-col lg:gl-gap-4 lg:gl-py-3",attrs:{role:"tablist","aria-orientation":"vertical"}},[t("new-chat-button",{attrs:{"project-id":e.projectId,"namespace-id":e.namespaceId,"active-tab":e.activeTab,"is-expanded":e.isExpanded,"is-chat-disabled":e.isChatDisabled,"is-agent-select-enabled":e.isAgenticMode,"chat-disabled-tooltip":e.chatDisabledTooltip},on:{"new-chat":e.handleNewChat,toggleTab:e.toggleTab,hideTooltips:e.hideTooltips,newChatError:e.handleNewChatError}}),e._v(" "),t("div",{staticClass:"gl-h-5 gl-w-1 gl-border-0 gl-border-r-1 gl-border-solid gl-border-strong lg:gl-mx-auto lg:gl-h-1 lg:gl-w-5 lg:gl-border-r-0 lg:gl-border-t-1",attrs:{name:"divider"}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",value:{title:e.formattedDuoShortcutTooltip,html:!0},expression:"{\n      title: formattedDuoShortcutTooltip,\n      html: true,\n    }",modifiers:{left:!0}}],staticClass:"js-tanuki-bot-chat-toggle !gl-rounded-lg",class:["ai-nav-icon",{"ai-nav-icon-active":"chat"===e.activeTab,"gl-opacity-5":e.isChatDisabled}],attrs:{icon:"duo-chat",size:"small",category:"tertiary","aria-selected":"chat"===e.activeTab,"aria-expanded":e.isExpanded,"aria-keyshortcuts":e.duoShortcutKey,"aria-label":e.$options.i18n.duoChatLabel,role:"tab","aria-disabled":e.isChatDisabled,"data-testid":"ai-chat-toggle"},on:{mouseout:e.hideTooltips,click:function(t){return e.toggleTab("chat")}}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"!gl-rounded-lg",class:["ai-nav-icon",{"ai-nav-icon-active":"history"===e.activeTab,"gl-opacity-5":e.isChatDisabled}],attrs:{icon:"history",size:"small",category:"tertiary","aria-selected":"history"===e.activeTab,"aria-expanded":e.isExpanded,"aria-label":e.$options.i18n.historyLabel,title:e.isChatDisabled?e.chatDisabledTooltip:e.$options.i18n.historyLabel,role:"tab","aria-disabled":e.isChatDisabled,"data-testid":"ai-history-toggle"},on:{mouseout:e.hideTooltips,click:function(t){return e.toggleTab("history")}}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"!gl-rounded-lg",class:["ai-nav-icon",{"ai-nav-icon-active":"sessions"===e.activeTab,"gl-opacity-5":e.isChatDisabled}],attrs:{icon:"session-ai",size:"small",category:"tertiary","aria-selected":"sessions"===e.activeTab,"aria-expanded":e.isExpanded,"aria-label":e.$options.i18n.sessionsLabel,title:e.isChatDisabled?e.chatDisabledTooltip:e.$options.i18n.sessionsLabel,role:"tab","aria-disabled":e.isChatDisabled,"data-testid":"ai-sessions-toggle"},on:{mouseout:e.hideTooltips,click:function(t){return e.toggleTab("sessions")}}}),e._v(" "),e.showSuggestionsTab?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"!gl-rounded-lg max-lg:gl-ml-auto lg:gl-mt-auto",class:["ai-nav-icon",{"ai-nav-icon-active":"suggestions"===e.activeTab,"gl-opacity-5":e.isChatDisabled}],attrs:{icon:"suggestion-ai",size:"small",category:"tertiary","aria-selected":"suggestions"===e.activeTab,"aria-expanded":e.isExpanded,"aria-label":e.$options.i18n.suggestionsLabel,title:e.isChatDisabled?e.chatDisabledTooltip:e.$options.i18n.suggestionsLabel,role:"tab","aria-disabled":e.isChatDisabled,"data-testid":"ai-suggestions-toggle"},on:{mouseout:e.hideTooltips,click:function(t){return e.toggleTab("suggestions")}}}):e._e()],1)}),[],!1,null,null,null).exports;var ee={name:"AiPanel",components:{AiContentContainer:V,NavigationRail:Z},inject:["chatConfiguration"],props:{userId:{type:String,required:!1,default:null},projectId:{type:String,required:!1,default:null},namespaceId:{type:String,required:!1,default:null},rootNamespaceId:{type:String,required:!1,default:null},resourceId:{type:String,required:!1,default:null},metadata:{type:String,required:!1,default:null},userModelSelectionEnabled:{type:Boolean,required:!1,default:!1},chatDisabledReason:{type:String,required:!1,default:""}},data:()=>(null===h.A.activeTab&&(h.A.activeTab=T.a.get("ai_panel_active_tab")||void 0),{isDesktop:O.a.isDesktop(),duoChatGlobalState:h.A,selectedAgentError:null,isMaximized:!1}),computed:{activeTab(){return this.duoChatGlobalState.activeTab},isChatDisabled(){return Boolean(this.chatDisabledReason)},isAgenticMode(){return this.chatConfiguration.defaultProps.isAgenticAvailable&&this.duoChatGlobalState.chatMode===_.a.AGENTIC},currentChatComponent(){const{agenticComponent:e,classicComponent:t,defaultProps:n}=this.chatConfiguration,{agenticUnavailableMessage:i,isClassicAvailable:a}=n;return this.isAgenticMode?e:i||(a?t:Object(l.a)("Chat is not available."))},currentChatTitle(){return this.isAgenticMode?this.chatConfiguration.agenticTitle:this.chatConfiguration.classicTitle},currentTabComponent(){if(this.isChatDisabled)return null;const e=this.isAgenticMode?"active":"chat";switch(this.activeTab){case"chat":return{title:this.currentChatTitle,component:this.currentChatComponent,props:{mode:e,...this.chatConfiguration.defaultProps}};case"new":return{title:Object(l.a)("New Chat"),component:this.currentChatComponent,props:{mode:"new",...this.chatConfiguration.defaultProps}};case"history":return{title:Object(l.a)("History"),component:this.currentChatComponent,props:{mode:"history",...this.chatConfiguration.defaultProps}};case"suggestions":return{title:Object(l.a)("Suggestions"),component:Object(l.a)("Suggestions content placeholder")};case"sessions":return{title:this.sessionTitle,component:A.a,initialRoute:"/agent-sessions/"};default:return null}},sessionTitle(){return this.$route.name===f.b?Object(x.c)(null,this.$route.params.id):Object(l.a)("Sessions")},showBackButton(){var e;return(null===(e=this.currentTabComponent)||void 0===e?void 0:e.initialRoute)&&this.currentTabComponent.initialRoute!==this.$route.path}},watch:{"duoChatGlobalState.focusChatInput":{handler(e){e&&(h.A.focusChatInput=!1,this.focusInput())}},isMaximized:{handler(e){document.querySelector(".js-page-layout").classList.toggle("ai-panel-maximized",e)},immediate:!0},async activeTab(e){["chat","new"].includes(e)&&(await this.$nextTick(),this.focusInput())}},mounted(){window.addEventListener("resize",this.handleWindowResize),window.addEventListener("focus",this.handleWindowFocus),this.chatDisabledReason&&this.activeTab&&this.setActiveTab(void 0)},beforeDestroy(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("focus",this.handleWindowFocus)},methods:{handleGoBack(){this.$router.push(this.currentTabComponent.initialRoute||"/")},setActiveTab(e){this.duoChatGlobalState.activeTab=e,e?T.a.set("ai_panel_active_tab",e):T.a.remove("ai_panel_active_tab")},async handleNewChat(){this.handleChangeTab("new")},async handleTabToggle(e){this.activeTab!==e?this.handleChangeTab(e):this.closePanel()},handleChangeTab(e){this.setActiveTab(e);const t=this.duoChatGlobalState.lastRoutePerTab[e]||this.currentTabComponent.initialRoute||"/";this.$router.push(t).catch((function(){}))},closePanel(){this.setActiveTab(void 0),this.isMaximized=!1},focusInput(){var e,t;null===(e=this.$refs["content-container"])||void 0===e||null===(e=e.getContentComponent())||void 0===e||null===(t=e.focusInput)||void 0===t||t.call(e)},handleWindowResize(){const e=O.a.isDesktop();this.isDesktop&&!e&&this.closePanel(),this.isDesktop=e},handleWindowFocus(){this.setActiveTab(this.activeTab)},handleNewChatError(e){this.selectedAgentError=e}}},te=Object(G.a)(ee,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-flex gl-h-full gl-gap-[var(--ai-panels-gap)]"},[e.currentTabComponent?t("ai-content-container",{ref:"content-container",attrs:{"user-id":e.userId,"active-tab":e.currentTabComponent,"show-back-button":e.showBackButton,"project-id":e.projectId,"namespace-id":e.namespaceId,"root-namespace-id":e.rootNamespaceId,"resource-id":e.resourceId,metadata:e.metadata,"user-model-selection-enabled":e.userModelSelectionEnabled,"agent-select-error":e.selectedAgentError,"is-maximized":e.isMaximized},on:{closePanel:e.closePanel,"go-back":e.handleGoBack,"switch-to-active-tab":e.setActiveTab,toggleMaximize:function(t){e.isMaximized=!e.isMaximized}}}):e._e(),e._v(" "),t("navigation-rail",{attrs:{"is-expanded":Boolean(e.currentTabComponent),"active-tab":e.activeTab,"show-suggestions-tab":!1,"chat-disabled-reason":e.chatDisabledReason,"project-id":e.projectId,"namespace-id":e.namespaceId,"is-agentic-mode":e.isAgenticMode},on:{handleTabToggle:e.handleTabToggle,"new-chat":e.handleNewChat,newChatError:e.handleNewChatError}})],1)}),[],!1,null,null,null).exports;function ne(){const e=document.getElementById("duo-chat-panel");if(!e)return!1;const{userId:t,projectId:n,namespaceId:s,rootNamespaceId:u,resourceId:c,metadata:d,userModelSelectionEnabled:h,agenticAvailable:f,classicAvailable:g,forceAgenticModeForCoreDuoUsers:p,agenticUnavailableMessage:m,chatTitle:b,chatDisabledReason:v,creditsAvailable:O,defaultNamespaceSelected:A,preferencesPath:x}=e.dataset;Object(o.H)(p)&&Object(j.f)({agenticMode:!0,saveCookie:!0}),i.default.use(a.a);const _=y("/","user"),T=new a.a({defaultClient:Object(r.d)()}),D={agenticComponent:k.a,classicComponent:w.a,agenticTitle:b||Object(l.a)("GitLab Duo Agentic Chat"),classicTitle:Object(l.a)("GitLab Duo Chat"),defaultProps:{isEmbedded:!0,userId:t,projectId:n,namespaceId:s,rootNamespaceId:u,resourceId:c,metadata:d,agenticUnavailableMessage:m,userModelSelectionEnabled:Object(o.H)(h),isAgenticAvailable:Object(o.H)(f),isClassicAvailable:Object(o.H)(g),forceAgenticModeForCoreDuoUsers:Object(o.H)(p),chatTitle:b,creditsAvailable:Object(o.H)(null!=O?O:"true"),defaultNamespaceSelected:Object(o.H)(A),preferencesPath:x}};return new i.default({el:e,name:"DuoPanel",store:Object(C.a)(),router:_,apolloProvider:T,provide:{isSidePanelView:!0,chatConfiguration:D},render(e){const i=S.a.value[S.a.value.length-1];return e(te,{props:{name:"AiPanel",userId:t,projectId:n,namespaceId:s,rootNamespaceId:u,resourceId:null!=i?i:c,metadata:d,userModelSelectionEnabled:Object(o.H)(h),chatDisabledReason:v}})}})}},ARYf:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAgentFlows"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"before"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"DuoWorkflowsWorkflowSort"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"statusGroup"}},type:{kind:"NamedType",name:{kind:"Name",value:"DuoWorkflowStatusGroup"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duoWorkflowWorkflows"},arguments:[{kind:"Argument",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}},{kind:"Argument",name:{kind:"Name",value:"before"},value:{kind:"Variable",name:{kind:"Name",value:"before"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"statusGroup"},value:{kind:"Variable",name:{kind:"Name",value:"statusGroup"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FlowFragment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:731}};i.loc.source={body:'#import "../fragments/flow.fragment.graphql"\n\nquery getAgentFlows(\n  $projectPath: ID!\n  $after: String\n  $before: String\n  $first: Int\n  $last: Int\n  $search: String\n  $sort: DuoWorkflowsWorkflowSort\n  $statusGroup: DuoWorkflowStatusGroup\n  $type: String\n) {\n  project(fullPath: $projectPath) {\n    id\n    duoWorkflowWorkflows(\n      projectPath: $projectPath\n      first: $first\n      after: $after\n      last: $last\n      before: $before\n      search: $search\n      sort: $sort\n      statusGroup: $statusGroup\n      type: $type\n    ) {\n      pageInfo {\n        startCursor\n        endCursor\n        hasNextPage\n        hasPreviousPage\n      }\n      edges {\n        node {\n          ...FlowFragment\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("40X6").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.getAgentFlows=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,l=new Set;for(i.forEach((function(e){l.add(e)}));l.size>0;){var s=l;l=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getAgentFlows")},C1Tf:function(e,t,n){"use strict";n("RFHG"),n("z6RN"),n("xuo1"),n("3UXl"),n("iyoE"),n("B++/"),n("47t/"),n("v2fZ");var i=n("jI5q"),a=n("P3VF"),r=n("LZPs"),o=n("zIFf"),l=n("WLv2"),s=n("Hpx7"),u=n("UZb0"),c=n("jlnU"),d=n("0AwG"),h=n("/lV4"),f=n("W4cT"),g=n("RXYC"),p={components:{GlFilteredSearch:i.a,GlSorting:a.a,GlFormCheckbox:r.a},directives:{GlTooltip:o.a},props:{namespace:{type:[Number,String],required:!0},recentSearchesStorageKey:{type:String,required:!1,default:""},tokens:{type:Array,required:!0},sortOptions:{type:Array,default:function(){return[]},required:!1},initialFilterValue:{type:Array,required:!1,default:function(){return[]}},initialSortBy:{type:String,required:!1,default:"",validator:function(e){return""===e||/(_desc)|(_asc)/gi.test(e)}},showCheckbox:{type:Boolean,required:!1,default:!1},checkboxChecked:{type:Boolean,required:!1,default:!1},searchInputPlaceholder:{type:String,required:!1,default:Object(h.a)("Search or filter resultsâ€¦")},suggestionsListClass:{type:String,required:!1,default:""},searchButtonAttributes:{type:Object,required:!1,default:function(){return{}}},searchInputAttributes:{type:Object,required:!1,default:function(){return{}}},showFriendlyText:{type:Boolean,required:!1,default:!1},syncFilterAndSort:{type:Boolean,required:!1,default:!1},termsAsTokens:{type:Boolean,required:!1,default:!1},searchTextOptionLabel:{type:String,required:!1,default:Object(h.a)("Search for this text")},showSearchButton:{type:Boolean,required:!1,default:!0}},data(){return{recentSearchesPromise:null,recentSearches:[],filterValue:this.initialFilterValue,...this.getInitialSort()}},computed:{tokenSymbols(){return this.tokens.reduce((function(e,t){return{...e,[t.type]:t.symbol}}),{})},tokenTitles(){return this.tokens.reduce((function(e,t){return{...e,[t.type]:t.title}}),{})},transformedSortOptions(){return this.sortOptions.map((function({id:e,title:t}){return{value:e,text:t}}))},selectedSortDirection(){return this.sortDirectionAscending?f.E.ascending:f.E.descending},selectedSortOption(){var e=this;return this.sortOptions.find((function(t){return t.id===e.sortById}))},filteredRecentSearches(){if(this.recentSearchesStorageKey){const e=[];return this.recentSearches.reduce((function(t,n){if("string"!=typeof n){const i=Object(g.g)(n),a=i.map((function(e){return`${e.type}${e.value.operator}${e.value.data}`})).join("");e.includes(a)||(t.push(i),e.push(a))}return t}),[])}}},watch:{initialFilterValue(e){this.syncFilterAndSort&&(this.filterValue=e)},initialSortBy(e){this.syncFilterAndSort&&e&&this.updateSelectedSortValues()},recentSearchesStorageKey:{handler:"setupRecentSearch",immediate:!0}},methods:{setupRecentSearch(){var e=this;this.recentSearchesService=new s.a(`${this.namespace}-${l.a[this.recentSearchesStorageKey]}`),this.recentSearchesStore=new u.a({isLocalStorageAvailable:s.a.isAvailable(),allowedKeys:this.tokens.map((function(e){return e.type}))}),this.recentSearchesPromise=this.recentSearchesService.fetch().catch((function(e){if("RecentSearchesServiceError"!==e.name)return Object(c.createAlert)({message:Object(h.a)("An error occurred while parsing recent searches")}),[]})).then((function(t){if(!t)return;let n=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));Object(g.a)(e.filterValue).length&&(n=e.recentSearchesStore.addRecentSearch(e.filterValue)),e.recentSearchesService.save(n),e.recentSearches=n}))},blurSearchInput(){const e=this.$refs.filteredSearchInput.$el.querySelector(".gl-filtered-search-token-segment-input");e&&e.blur()},removeQuotesEnclosure:(e=[])=>e.map((function(e){if("object"==typeof e){const t=e.value.data;return{...e,value:{data:"string"==typeof t?Object(d.D)(t):t,operator:e.value.operator}}}return e})),handleSortByChange(e){this.sortById=e,this.$emit("onSort",this.selectedSortOption.sortDirection[this.selectedSortDirection])},handleSortDirectionChange(e){this.sortDirectionAscending=e,this.$emit("onSort",this.selectedSortOption.sortDirection[this.selectedSortDirection])},handleHistoryItemSelected(e){this.$emit("onFilter",this.removeQuotesEnclosure(e))},handleClearHistory(){const e=this.recentSearchesStore.setRecentSearches([]);this.recentSearchesService.save(e),this.recentSearches=[]},async handleFilterSubmit(){var e=this;this.blurSearchInput(),await this.$nextTick();const t=Object(g.g)(this.filterValue);this.filterValue=t,this.recentSearchesStorageKey&&this.recentSearchesPromise.then((function(){if(t.length){const n=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(n),e.recentSearches=n}})).catch((function(){})),this.$emit("onFilter",this.removeQuotesEnclosure(t))},historyTokenOptionTitle(e){var t;const n=null===(t=this.tokens.find((function(t){return t.type===e.type})))||void 0===t||null===(t=t.options)||void 0===t?void 0:t.find((function(t){return t.value===e.value.data}));return null!=n&&n.title?n.title:e.value.data},onClear(){this.$emit("onFilter",[],!0)},updateSelectedSortValues(){Object.assign(this,this.getInitialSort())},getInitialSort(){var e;for(const e of this.sortOptions){if(e.sortDirection.ascending===this.initialSortBy)return{sortById:e.id,sortDirectionAscending:!0};if(e.sortDirection.descending===this.initialSortBy)return{sortById:e.id,sortDirectionAscending:!1}}return{sortById:null===(e=this.sortOptions[0])||void 0===e?void 0:e.id,sortDirectionAscending:!1}},onInput(e){this.$emit("onInput",this.removeQuotesEnclosure(Object(g.g)(e)))},onTokenComplete(e){this.$emit("token-complete",e)},onTokenDestroy(e){this.$emit("token-destroy",e)}}},m=n("tBpV"),b=Object(m.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"vue-filtered-search-bar-container gl-flex gl-flex-col gl-gap-3 @sm/panel:gl-flex-row"},[t("div",{staticClass:"gl-flex gl-min-w-0 gl-grow gl-gap-3"},[e.showCheckbox?t("gl-form-checkbox",{staticClass:"gl-min-h-0 gl-self-center",attrs:{checked:e.checkboxChecked},on:{change:function(t){return e.$emit("checked-input",t)}}},[t("span",{staticClass:"gl-sr-only"},[e._v(e._s(e.__("Select all")))])]):e._e(),e._v(" "),t("gl-filtered-search",{ref:"filteredSearchInput",staticClass:"gl-grow",attrs:{placeholder:e.searchInputPlaceholder,"available-tokens":e.tokens,"history-items":e.filteredRecentSearches,"suggestions-list-class":e.suggestionsListClass,"search-button-attributes":e.searchButtonAttributes,"search-input-attributes":e.searchInputAttributes,"recent-searches-header":e.__("Recent searches"),"clear-button-title":e.__("Clear"),"close-button-title":e.__("Close"),"clear-recent-searches-text":e.__("Clear recent searches"),"no-recent-searches-text":e.__("You don't have any recent searches"),"search-text-option-label":e.searchTextOptionLabel,"show-friendly-text":e.showFriendlyText,"show-search-button":e.showSearchButton,"terms-as-tokens":e.termsAsTokens},on:{"history-item-selected":e.handleHistoryItemSelected,clear:e.onClear,"clear-history":e.handleClearHistory,submit:e.handleFilterSubmit,input:e.onInput,"token-complete":e.onTokenComplete,"token-destroy":e.onTokenDestroy},scopedSlots:e._u([{key:"history-item",fn:function({historyItem:n}){return[e._l(n,(function(n,i){return["string"==typeof n?t("span",{key:i,staticClass:"gl-px-1"},[e._v('"'+e._s(n)+'"')]):t("span",{key:`${i}-${n.type}-${n.value.data}`,staticClass:"gl-px-1"},[e.tokenTitles[n.type]?t("span",[e._v(e._s(e.tokenTitles[n.type])+" :"+e._s(n.value.operator))]):e._e(),e._v(" "),t("strong",[e._v(e._s(e.tokenSymbols[n.type])+e._s(e.historyTokenOptionTitle(n)))])])]}))]}}]),model:{value:e.filterValue,callback:function(t){e.filterValue=t},expression:"filterValue"}})],1),e._v(" "),t("div",{class:{"gl-flex gl-items-center gl-justify-between gl-gap-3":e.$scopedSlots["user-preference"]}},[e._t("user-preference"),e._v(" "),e.selectedSortOption?t("gl-sorting",{staticClass:"sort-dropdown-container !gl-m-0 gl-w-full @sm/panel:gl-w-auto",attrs:{"sort-options":e.transformedSortOptions,"sort-by":e.sortById,"is-ascending":e.sortDirectionAscending,"dropdown-toggle-class":"gl-grow","dropdown-class":"gl-grow","sort-direction-toggle-class":"!gl-shrink !gl-grow-0"},on:{sortByChange:e.handleSortByChange,sortDirectionChange:e.handleSortDirectionChange}}):e._e()],2)])}),[],!1,null,null,null);t.a=b.exports},Euva:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAgentFlow"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workflowId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiDuoWorkflowsWorkflowID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duoWorkflowWorkflows"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workflowId"},value:{kind:"Variable",name:{kind:"Name",value:"workflowId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FlowFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"latestCheckpoint"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duoMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"correlationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"toolInfo"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"lastExecutorLogsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:494}};i.loc.source={body:'#import "../fragments/flow.fragment.graphql"\n\nquery getAgentFlow($workflowId: AiDuoWorkflowsWorkflowID!) {\n  duoWorkflowWorkflows(workflowId: $workflowId) {\n    edges {\n      node {\n        ...FlowFragment\n        latestCheckpoint {\n          duoMessages {\n            content\n            correlationId\n            role\n            messageType\n            status\n            timestamp\n            toolInfo\n          }\n        }\n        lastExecutorLogsUrl\n        createdAt\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("40X6").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.getAgentFlow=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,l=new Set;for(i.forEach((function(e){l.add(e)}));l.size>0;){var s=l;l=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getAgentFlow")},GRMX:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n/* This is to override a margin caused by bootstrap */\n.non-gfm-markdown-block[data-v-0181bc3c] {\n[data-v-0181bc3c] p:last-of-type {\n    margin-bottom: 0;\n}\n  /* All code blocks here should break to avoid overflow issues in consumer components */\n[data-v-0181bc3c] code {\n    word-break: break-all;\n}\n[data-v-0181bc3c] pre {\n    white-space: pre-wrap;\n}\n}\n",""])},H63F:function(e,t,n){"use strict";var i=n("d85j"),a=n("nwJz"),r={name:"AgentStatusIcon",components:{GlIcon:i.a},props:{status:{required:!0,type:String},humanStatus:{required:!0,type:String}},computed:{itemStatus(){return Object(a.g)(this.status)},borderStyle(){switch(this.itemStatus.color){case"green":return"gl-border-green-100 dark:gl-border-green-700 gl-bg-status-success";case"red":return"gl-border-red-100 dark:gl-border-red-700 gl-bg-status-danger";case"blue":return"gl-border-blue-100 dark:gl-border-blue-700 gl-bg-status-info";case"orange":return"gl-border-orange-100 dark:gl-border-orange-700 gl-bg-status-warning";case"neutral":return"gl-border-neutral-100 dark:gl-border-neutral-100 gl-bg-status-neutral";default:return"gl-border-neutral-100 dark:gl-border-neutral-700 gl-bg-status-neutral"}},iconStyle(){switch(this.itemStatus.color){case"green":return"gl-bg-green-500";case"red":return"gl-bg-red-500";case"blue":return"gl-bg-blue-500";case"orange":return"gl-bg-orange-500";case"neutral":default:return"gl-bg-neutral-500"}}}},o=n("tBpV"),l=Object(o.a)(r,(function(){var e=this._self._c;return e("span",{staticClass:"gl-inline-flex gl-h-6 gl-w-6 gl-items-center gl-justify-center gl-rounded-full gl-border-4 gl-border-solid",class:this.borderStyle},[e("gl-icon",{staticClass:"gl-rounded-full !gl-fill-neutral-0 gl-p-1",class:this.iconStyle,attrs:{name:this.itemStatus.icon,"aria-label":this.humanStatus}})],1)}),[],!1,null,null,null);t.a=l.exports},Hpx7:function(e,t,n){"use strict";n("byxs");var i=n("n7CP"),a=n("/lV4");class r extends Error{constructor(e){super(e||Object(a.a)("Recent Searches Service is unavailable")),this.name="RecentSearchesServiceError"}}var o=r;class l{constructor(e="issuable-recent-searches"){this.localStorageKey=e}fetch(){if(!l.isAvailable()){const e=new o;return Promise.reject(e)}const e=window.localStorage.getItem(this.localStorageKey);let t=[];if(e&&e.length>0)try{t=JSON.parse(e)}catch(e){return Promise.reject(e)}return Promise.resolve(t)}save(e=[]){l.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(e))}static isAvailable(){return i.a.canUseLocalStorage()}}t.a=l},OgoU:function(e,t,n){"use strict";var i={name:"CodeBlock",props:{code:{type:String,required:!1,default:""},maxHeight:{type:String,required:!1,default:"initial"}},computed:{styleObject(){const{maxHeight:e}=this;return"initial"!==e?{maxHeight:e,overflowY:"auto"}:null}}},a=n("tBpV"),r=Object(a.a)(i,(function(){var e=this,t=e._self._c;return t("pre",{staticClass:"code-block rounded code code-syntax-highlight-theme",style:e.styleObject},[e._t("default",(function(){return[t("code",{staticClass:"gl-block"},[e._v(e._s(e.code))])]}))],2)}),[],!1,null,null,null);t.a=r.exports},PSmN:function(e,t,n){"use strict";var i={},a=n("tBpV"),r=Object(a.a)(i,(function(){var e=this._self._c;return e("div",{attrs:{id:"single-page-app"}},[e("router-view",{scopedSlots:this._u([{key:"default",fn:function({Component:t}){return[e(t,{tag:"component"})]}}])})],1)}),[],!1,null,null,null);t.a=r.exports},RXYC:function(e,t,n){"use strict";n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return C}));var i=n("lx39"),a=n.n(i),r=n("VNnR"),o=n.n(r),l=n("rOMJ"),s=n.n(l),u=n("Q33P"),c=n.n(u),d=(n("RFHG"),n("z6RN"),n("xuo1"),n("v2fZ"),n("3UXl"),n("iyoE"),n("UezY"),n("hG7+"),n("B++/"),n("47t/"),n("byxs"),n("aFm2"),n("R9qC"),n("n7CP")),h=n("3twG"),f=n("W4cT");const g=function(e){const t=[];return e.reduce((function(e,n){if("object"==typeof n&&n.type!==f.d){const i=`${n.type}${n.value.operator}${n.value.data}`;t.includes(i)||(e.push(n),t.push(i))}else e.push(n);return e}),[])};function p(e,t){return{type:e,value:{data:t.value,operator:t.operator}}}function m(e={}){return Object.keys(e).reduce((function(t,n){const i=e[n];return i?Array.isArray(i)?[...t,...i.map((function(e){return p(n,e)}))]:[...t,p(n,i)]:t}),[])}function b(e){return e.reduce((function(e,t){let n,i,a;var r,o;"string"==typeof t?(n=f.d,i=t):(n=null==t?void 0:t.type,a=null==t||null===(r=t.value)||void 0===r?void 0:r.operator,i=null==t||null===(o=t.value)||void 0===o?void 0:o.data);return e[n]||(e[n]=[]),e[n].push({value:i,operator:a}),e}),{})}function v(e){return e.map((function({value:e}){return e})).join(" ").trim()}function y(e={},t={}){const{filteredSearchTermKey:n,customOperators:i,shouldExcludeEmpty:a=!1}=t;return Object.keys(e).reduce((function(t,r){const o=e[r];if("string"==typeof n&&r===f.d&&o){return""===v(o)&&a?t:{...t,[n]:v(o)}}const l=[{operator:"="},{operator:"!=",prefix:"not"},...null!=i?i:[]],s={};for(const e of l){const{operator:t,prefix:n,applyOnlyToKey:i}=e;if(!i||i===r){var u;let e;if(e=Array.isArray(o)?o.filter((function(e){return e.operator===t})).map((function(e){return e.value})):(null==o?void 0:o.operator)===t?o.value:null,c()(e)&&(e=null),a&&(""===(null===(u=e)||void 0===u?void 0:u[0])||""===e||null===e))continue;n?s[`${n}[${r}]`]=e:s[r]=e}}return{...t,...s}}),{})}function k(e){return[{value:(Array.isArray(e)?e:[e]).filter((function(e){return e})).join(" ")}]}function w(e="",{filteredSearchTermKey:t,filterNamesAllowList:n,customOperators:i}={}){const r=a()(e)?Object(h.H)(e,{gatherArrays:!0}):e;return Object.keys(r).reduce((function(e,a){const o=r[a];if(!o)return e;if(a===t)return{...e,[f.d]:k(o)};const{filterName:l,operator:s}=function(e,t){const n=[{prefix:"not",operator:"!="},...null!=t?t:[]].find((function({prefix:t}){return e.startsWith(t+"[")&&e.endsWith("]")}));if(!n)return{filterName:e,operator:"="};const{prefix:i}=n;return{filterName:e.slice(i.length+1,-1),operator:n.operator}}(a,i);if(n&&!n.includes(l))return e;let u=[];if(Array.isArray(e[l])&&(u=e[l]),Array.isArray(o)){const t=o.filter(Boolean).map((function(e){return{value:e,operator:s}}));return{...e,[l]:[...u,...t]}}return{...e,[l]:{value:o,operator:s}}}),{})}function S(e,t,n){let i=[];return d.a.canUseLocalStorage()&&(i=JSON.parse(localStorage.getItem(e))||[]),i.filter((function(e){return!(null!=t&&t.some((function(t){return t.value.data===n(e)})))}))}function j(e,t){const n=S(e);n.splice(0,0,{...t}),d.a.canUseLocalStorage()&&localStorage.setItem(e,JSON.stringify(s()(n,o.a).slice(0,f.k)))}const C=function(e=[]){return e.filter((function(e){return e.type===f.d&&e.value.data}))}},UZb0:function(e,t,n){"use strict";var i=n("VNnR"),a=n.n(i),r=n("rOMJ"),o=n.n(r),l=(n("3UXl"),n("iyoE"),n("n7eE"));t.a=class{constructor(e={},t){this.state={isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:t,...e}}addRecentSearch(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}setRecentSearches(e=[]){const t=e.map((function(e){return"string"==typeof e?e.trim():e}));return this.state.recentSearches=o()(t,a.a).slice(0,l.d),this.state.recentSearches}}},WLv2:function(e,t,n){"use strict";var i=n("rl6x");t.a={...i.c,epics:"epics-recent-searches",requirements:"requirements-recent-searches",test_cases:"test-cases-recent-searches",jira_issues:"jira-issues-recent-searches"}},"b49+":function(e,t,n){"use strict";n("v2fZ");var i=n("Idki"),a=n("mQrz"),r=n("Mp8J"),o=n("D+x4"),l=n("0AwG"),s=n("/lV4"),u=n("rgLS"),c={components:{CodeBlockHighlighted:a.a,SimpleCopyButton:u.a},directives:{SafeHtml:r.a},props:{markdown:{type:String,required:!0}},data:()=>({hoverMap:{}}),computed:{markdownBlocks(){const e=i.marked.lexer(this.markdown),t=[];for(const n of e){const e=t[t.length-1];"code"===n.type?t.push(n):"markdown"===(null==e?void 0:e.type)?e.raw+=n.raw:t.push({type:"markdown",raw:n.raw})}return t}},methods:{getSafeHtml:e=>Object(o.b)(i.marked.parse(e),l.B),setHoverOn(e){this.hoverMap={...this.hoverMap,[e]:!0}},setHoverOff(e){this.hoverMap={...this.hoverMap,[e]:!1}},isLastElement(e){return e===this.markdownBlocks.length-1}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]},i18n:{copyCodeTitle:Object(s.a)("Copy code")},fallbackLanguage:"text"},d=n("LPAU"),h=n.n(d),f=n("GRMX"),g=n.n(f),p={insert:"head",singleton:!1},m=(h()(g.a,p),g.a.locals,n("tBpV")),b=Object(m.a)(c,(function(){var e=this,t=e._self._c;return t("div",[e._l(e.markdownBlocks,(function(n,i){return["code"===n.type?t("div",{key:"code-"+i,class:{"gl-relative":!0,"gl-mb-4":!e.isLastElement(i)},attrs:{"data-testid":"code-block-wrapper"},on:{mouseenter:function(t){return e.setHoverOn("code-"+i)},mouseleave:function(t){return e.setHoverOff("code-"+i)}}},[e.hoverMap["code-"+i]?t("simple-copy-button",{staticClass:"gl-absolute gl-right-3 gl-top-3 gl-z-1 gl-duration-medium",attrs:{title:e.$options.i18n.copyCodeTitle,text:n.text}}):e._e(),e._v(" "),t("code-block-highlighted",{staticClass:"gl-border gl-mb-0 gl-overflow-y-auto !gl-rounded-none gl-p-4",attrs:{language:n.lang||e.$options.fallbackLanguage,code:n.text}})],1):t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.getSafeHtml(n.raw),expression:"getSafeHtml(block.raw)",arg:e.$options.safeHtmlConfig}],key:"text-"+i,class:{"non-gfm-markdown-block":!0,"gl-mb-4":!e.isLastElement(i)},attrs:{"data-testid":"non-code-markdown"}})]}))],2)}),[],!1,null,"0181bc3c",null);t.a=b.exports},"bu9/":function(e,t,n){"use strict";t.a=gon&&gon.illustrations_path},d08M:function(e,t,n){"use strict";n.d(t,"Bb",(function(){return s})),n.d(t,"D",(function(){return u})),n.d(t,"A",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"F",(function(){return f})),n.d(t,"wb",(function(){return g})),n.d(t,"f",(function(){return p})),n.d(t,"B",(function(){return m})),n.d(t,"C",(function(){return b})),n.d(t,"E",(function(){return v})),n.d(t,"G",(function(){return y})),n.d(t,"Db",(function(){return k})),n.d(t,"H",(function(){return w})),n.d(t,"Eb",(function(){return S})),n.d(t,"zb",(function(){return j})),n.d(t,"b",(function(){return C})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return A})),n.d(t,"S",(function(){return x})),n.d(t,"yb",(function(){return _})),n.d(t,"T",(function(){return T})),n.d(t,"I",(function(){return D})),n.d(t,"ib",(function(){return N})),n.d(t,"d",(function(){return I})),n.d(t,"Cb",(function(){return F})),n.d(t,"c",(function(){return q})),n.d(t,"rb",(function(){return L})),n.d(t,"sb",(function(){return G})),n.d(t,"ub",(function(){return V})),n.d(t,"qb",(function(){return R})),n.d(t,"tb",(function(){return $})),n.d(t,"pb",(function(){return B})),n.d(t,"s",(function(){return U})),n.d(t,"j",(function(){return M})),n.d(t,"u",(function(){return K})),n.d(t,"m",(function(){return W})),n.d(t,"xb",(function(){return z})),n.d(t,"k",(function(){return H})),n.d(t,"w",(function(){return J})),n.d(t,"v",(function(){return Q})),n.d(t,"n",(function(){return X})),n.d(t,"hb",(function(){return Y})),n.d(t,"o",(function(){return Z})),n.d(t,"r",(function(){return ee})),n.d(t,"t",(function(){return te})),n.d(t,"p",(function(){return ne})),n.d(t,"l",(function(){return ie})),n.d(t,"q",(function(){return ae})),n.d(t,"x",(function(){return re})),n.d(t,"z",(function(){return oe})),n.d(t,"y",(function(){return le})),n.d(t,"nb",(function(){return se})),n.d(t,"mb",(function(){return ue})),n.d(t,"ob",(function(){return ce})),n.d(t,"kb",(function(){return de})),n.d(t,"jb",(function(){return he})),n.d(t,"lb",(function(){return fe})),n.d(t,"e",(function(){return ge})),n.d(t,"Ab",(function(){return pe})),n.d(t,"K",(function(){return me})),n.d(t,"M",(function(){return be})),n.d(t,"J",(function(){return ve})),n.d(t,"L",(function(){return ye})),n.d(t,"O",(function(){return ke})),n.d(t,"P",(function(){return we})),n.d(t,"bb",(function(){return Se})),n.d(t,"db",(function(){return je})),n.d(t,"ab",(function(){return Ce})),n.d(t,"Z",(function(){return Oe})),n.d(t,"fb",(function(){return Ae})),n.d(t,"gb",(function(){return Te})),n.d(t,"cb",(function(){return De})),n.d(t,"eb",(function(){return Ne})),n.d(t,"X",(function(){return Ie})),n.d(t,"Y",(function(){return Fe})),n.d(t,"U",(function(){return Pe})),n.d(t,"V",(function(){return Ee})),n.d(t,"W",(function(){return qe})),n.d(t,"Q",(function(){return Le})),n.d(t,"R",(function(){return Ge})),n.d(t,"N",(function(){return Ve})),n.d(t,"vb",(function(){return Re})),n.d(t,"Fb",(function(){return $e})),n.d(t,"Gb",(function(){return Me})),n.d(t,"Hb",(function(){return Ke}));var i=n("htNe"),a=n.n(i),r=(n("byxs"),n("n7CP")),o=n("/lV4");const l=a()((function(){let e={};if(r.a.canUseLocalStorage())try{e=JSON.parse(localStorage.getItem("gl-keyboard-shortcuts-customizations")||"{}")}catch(e){}return e})),s={id:"globalShortcuts.toggleKeyboardShortcutsDialog",description:Object(o.a)("Toggle keyboard shortcuts help dialog"),defaultKeys:["?"]},u={id:"globalShortcuts.goToYourProjects",description:Object(o.a)("Go to your projects"),defaultKeys:["shift+p"]},c={id:"globalShortcuts.goToYourGroups",description:Object(o.a)("Go to your groups"),defaultKeys:["shift+g"]},d={id:"globalShortcuts.goToActivityFeed",description:Object(o.a)("Go to the activity feed"),defaultKeys:["shift+a"]},h={id:"globalShortcuts.goToMilestoneList",description:Object(o.a)("Go to the milestone list"),defaultKeys:["shift+l"]},f={id:"globalShortcuts.goToYourSnippets",description:Object(o.a)("Go to your snippets"),defaultKeys:["shift+s"]},g={id:"globalShortcuts.startSearch",description:Object(o.a)("Start search"),defaultKeys:["s","/"]},p={id:"globalShortcuts.focusFilterBar",description:Object(o.a)("Focus filter bar"),defaultKeys:["f"]},m={id:"globalShortcuts.goToYourIssues",description:Object(o.a)("Go to your issues"),defaultKeys:["shift+i"]},b={id:"globalShortcuts.goToYourMergeRequests",description:Object(o.a)("Go to your merge requests"),defaultKeys:["shift+m"]},v={id:"globalShortcuts.goToYourReviewRequests",description:Object(o.a)("Go to your review requests"),defaultKeys:["shift+r"]},y={id:"globalShortcuts.goToYourTodoList",description:Object(o.a)("Go to your To-Do List"),defaultKeys:["shift+t"]},k={id:"globalShortcuts.togglePerformanceBar",description:Object(o.a)("Toggle the Performance Bar"),defaultKeys:["p b"]},w={id:"globalShortcuts.hideAppearingContent",description:Object(o.a)("Hide tooltips or popovers"),defaultKeys:["esc"]},S={id:"globalShortcuts.toggleSuperSidebar",description:Object(o.a)("Toggle the navigation sidebar"),defaultKeys:["mod+\\"]},j={id:"globalShortcuts.toggleCanary",description:Object(o.a)("Toggle GitLab Next"),defaultKeys:["g x"]},C={id:"globalShortcuts.duoChat",description:Object(o.a)("Open GitLab Duo Chat"),defaultKeys:["d"]},O={id:"globalShortcuts.goToHomepage",description:Object(o.a)("Go to homepage"),defaultKeys:["shift+h"]},A={id:"editing.boldText",description:Object(o.a)("Bold text"),defaultKeys:["mod+b"],customizable:!1},x={id:"editing.italicText",description:Object(o.a)("Italic text"),defaultKeys:["mod+i"],customizable:!1},_={id:"editing.strikethroughText",description:Object(o.a)("Strikethrough text"),defaultKeys:["mod+shift+x"],customizable:!1},T={id:"editing.linkText",description:Object(o.a)("Link text"),defaultKeys:["mod+k"],customizable:!1},D={id:"editing.indentLine",description:Object(o.a)("Indent line"),defaultKeys:["mod+]"],customizable:!1},N={id:"editing.outdentLine",description:Object(o.a)("Outdent line"),defaultKeys:["mod+["],customizable:!1},I={id:"editing.findAndReplace",description:Object(o.i)("MarkdownEditor|Find and replace"),defaultKeys:["mod+f"],customizable:!1},F={id:"editing.toggleMarkdownPreview",description:Object(o.a)("Toggle Markdown preview"),defaultKeys:["ctrl+shift+p","command+shift+p","alt+shift+p"]},P={id:"editing.editRecentComment",description:Object(o.a)("Edit your most recent comment in a thread (from an empty textarea)"),defaultKeys:["up"]},E={id:"globalShortcuts.saveChanges",description:Object(o.a)("Submit/save changes"),defaultKeys:["mod+enter"]},q={id:"wiki.editWikiPage",description:Object(o.a)("Edit wiki page"),defaultKeys:["e"]},L={id:"repositoryGraph.scrollLeft",description:Object(o.a)("Scroll left"),defaultKeys:["left","h"]},G={id:"repositoryGraph.scrollRight",description:Object(o.a)("Scroll right"),defaultKeys:["right","l"]},V={id:"repositoryGraph.scrollUp",description:Object(o.a)("Scroll up"),defaultKeys:["up","k"]},R={id:"repositoryGraph.scrollDown",description:Object(o.a)("Scroll down"),defaultKeys:["down","j"]},$={id:"repositoryGraph.scrollToTop",description:Object(o.a)("Scroll to top"),defaultKeys:["shift+up","shift+k"]},B={id:"repositoryGraph.scrollToBottom",description:Object(o.a)("Scroll to bottom"),defaultKeys:["shift+down","shift+j"]},U={id:"project.goToOverview",description:Object(o.a)("Go to the project's overview page"),defaultKeys:["g o"]},M={id:"project.goToActivityFeed",description:Object(o.a)("Go to the project's activity feed"),defaultKeys:["g v"]},K={id:"project.goToReleases",description:Object(o.a)("Go to releases"),defaultKeys:["g r"]},W={id:"project.goToFiles",description:Object(o.a)("Go to files"),defaultKeys:["g f"]},z={id:"project.startSearchFile",description:Object(o.a)("Go to find file"),defaultKeys:["t"]},H={id:"project.goToCommits",description:Object(o.a)("Go to commits"),defaultKeys:["g c"]},J={id:"project.goToRepoGraph",description:Object(o.a)("Go to repository graph"),defaultKeys:["g n"]},Q={id:"project.goToRepoCharts",description:Object(o.a)("Go to repository charts"),defaultKeys:["g d"]},X={id:"project.goToIssues",description:Object(o.a)("Go to issues"),defaultKeys:["g i"]},Y={id:"project.newIssue",description:Object(o.a)("New issue"),defaultKeys:["i"]},Z={id:"project.goToIssueBoards",description:Object(o.a)("Go to issue boards"),defaultKeys:["g b"]},ee={id:"project.goToMergeRequests",description:Object(o.a)("Go to merge requests"),defaultKeys:["g m"]},te={id:"project.goToPipelines",description:Object(o.a)("Go to pipelines"),defaultKeys:["g p"]},ne={id:"project.goToJobs",description:Object(o.a)("Go to jobs"),defaultKeys:["g j"]},ie={id:"project.goToEnvironments",description:Object(o.a)("Go to environments"),defaultKeys:["g e"]},ae={id:"project.goToKubernetes",description:Object(o.a)("Go to kubernetes"),defaultKeys:["g k"]},re={id:"project.goToSnippets",description:Object(o.a)("Go to snippets"),defaultKeys:["g s"]},oe={id:"project.goToWiki",description:Object(o.a)("Go to wiki"),defaultKeys:["g w"]},le={id:"project.goToWebIDE",description:Object(o.a)("Open in Web IDE"),defaultKeys:["."]},se={id:"projectFiles.moveSelectionUp",description:Object(o.a)("Move selection up"),defaultKeys:["up"]},ue={id:"projectFiles.moveSelectionDown",description:Object(o.a)("Move selection down"),defaultKeys:["down"]},ce={id:"projectFiles.openSelection",description:Object(o.a)("Open Selection"),defaultKeys:["enter"]},de={id:"projectFiles.goBack",description:Object(o.a)("Go back (while searching for files)"),defaultKeys:["esc"],overrideGlobalHotkey:!0},he={id:"projectFiles.copyFilePermalink",description:Object(o.a)("Copy file permalink"),defaultKeys:["y"]},fe={id:"projectFiles.goToCompare",description:Object(o.a)("Compare Branches"),defaultKeys:["shift+c"]},ge={id:"projectFiles.focusFTBFilterBar",description:Object(o.a)("Focus file tree browser filter bar"),defaultKeys:["f"],overrideGlobalHotkey:!0},pe={id:"projectFiles.toggleFTBVisibility",description:Object(o.a)("Toggle file tree browser visibility"),defaultKeys:["shift+f"]},me={id:"issuables.commentReply",description:Object(o.a)("Comment/Reply (quoting selected text)"),defaultKeys:["r"]},be={id:"issuables.editDescription",description:Object(o.a)("Edit description"),defaultKeys:["e"]},ve={id:"issuables.changeLabel",description:Object(o.a)("Change label"),defaultKeys:["l"]},ye={id:"issuables.copyIssuableRef",description:Object(o.a)("Copy reference"),defaultKeys:["c r"]},ke={id:"issuesMRs.changeAssignee",description:Object(o.a)("Change assignee"),defaultKeys:["a"]},we={id:"issuesMRs.changeMilestone",description:Object(o.a)("Change milestone"),defaultKeys:["m"]},Se={id:"mergeRequests.nextFileInDiff",description:Object(o.a)("Next file in diff"),defaultKeys:["]","j"]},je={id:"mergeRequests.previousFileInDiff",description:Object(o.a)("Previous file in diff"),defaultKeys:["[","k"]},Ce={id:"mergeRequests.goToFile",description:Object(o.a)("Go to file"),defaultKeys:["mod+p","t"],customizable:!1},Oe={id:"mergeRequests.focusFileBrowser",description:Object(o.a)("Focus file browser"),defaultKeys:["f"],customizable:!1,overrideGlobalHotkey:!0},Ae={id:"mergeRequests.toggleFileBrowser",description:Object(o.a)("Toggle file browser"),defaultKeys:["shift+f"],customizable:!1},xe={id:"mergeRequests.addToReview",description:Object(o.a)("Add your comment to a review"),defaultKeys:["mod+enter"],customizable:!1},_e={id:"mergeRequests.addCommentNow",description:Object(o.a)("Publish your comment immediately"),defaultKeys:["shift+mod+enter"],customizable:!1},Te={id:"mergeRequests.toggleReview",description:Object(o.i)("MergeRequest|Viewed by me"),defaultKeys:["v"],customizable:!1},De={id:"mergeRequests.nextUnresolvedDiscussion",description:Object(o.a)("Next open thread"),defaultKeys:["n"]},Ne={id:"mergeRequests.previousUnresolvedDiscussion",description:Object(o.a)("Previous open thread"),defaultKeys:["p"]},Ie={id:"mergeRequests.copySourceBranchName",description:Object(o.a)("Copy source branch name"),defaultKeys:["b"]},Fe={id:"mergeRequests.expandAllFiles",description:Object(o.a)("Expand all files"),defaultKeys:[";"]},Pe={id:"mergeRequests.collapseAllFiles",description:Object(o.a)("Collapse all files"),defaultKeys:["shift+;"]},Ee={id:"mergeRequestCommits.nextCommit",description:Object(o.a)("Next commit"),defaultKeys:["c"]},qe={id:"mergeRequestCommits.previousCommit",description:Object(o.a)("Previous commit"),defaultKeys:["x"]},Le={id:"issues.nextDesign",description:Object(o.a)("Next design"),defaultKeys:["right"]},Ge={id:"issues.previousDesign",description:Object(o.a)("Previous design"),defaultKeys:["left"]},Ve={id:"issues.closeDesign",description:Object(o.a)("Close design"),defaultKeys:["esc"],overrideGlobalHotkey:!0},Re={id:"sidebar.closeWidget",description:Object(o.a)("Close sidebar widget"),defaultKeys:["esc"],overrideGlobalHotkey:!0},$e={id:"workitems.toggleSidebar",description:Object(o.a)("Show or hide sidebar"),defaultKeys:["mod+/","shift+mod+7"],customizable:!1},Be={id:"webIDE.goToFile",description:Object(o.a)("Go to file"),defaultKeys:["mod+p","t"],customizable:!1},Ue={id:"webIDE.commit",description:Object(o.a)("Commit (when editing commit message)"),defaultKeys:["mod+enter"],customizable:!1},Me=[{id:"globalShortcuts",name:Object(o.a)("Global Shortcuts"),keybindings:[s,O,u,c,d,h,f,g,p,m,b,v,y,k,w,S,C]},{id:"editing",name:Object(o.a)("Editing"),keybindings:[A,x,_,T,F,I,P,E]},{id:"wiki",name:Object(o.a)("Wiki"),keybindings:[q]},{id:"repositoryGraph",name:Object(o.a)("Repository Graph"),keybindings:[L,G,V,R,$,B]},{id:"project",name:Object(o.a)("Project"),keybindings:[U,M,K,W,z,H,J,Q,X,Y,Z,ee,te,ne,ie,ae,re,oe,le]},{id:"projectFiles",name:Object(o.a)("Project Files"),keybindings:[se,ue,ce,de,he,fe]},{id:"issuables",name:Object(o.a)("Epics, issues, and merge requests"),keybindings:[me,be,ve,ye]},{id:"issuesMRs",name:Object(o.a)("Issues and merge requests"),keybindings:[ke,we]},{id:"mergeRequests",name:Object(o.a)("Merge requests"),keybindings:[Se,je,Ce,De,Ne,Ie,Oe,Ae,xe,_e,Te]},{id:"mergeRequestCommits",name:Object(o.a)("Merge request commits"),keybindings:[Ee,qe]},{id:"issues",name:Object(o.a)("Issues"),keybindings:[Le,Ge,Ve]},{id:"webIDE",name:Object(o.a)("Legacy Web IDE"),keybindings:[Be,Ue]},{id:"misc",name:Object(o.a)("Miscellaneous"),keybindings:[j]}],Ke=function(e){return function({customizable:e}){return Boolean(null==e||e)}(e)&&l()[e.id]||e.defaultKeys}},il1Q:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return f}));var i=n("/lV4");const a=1e4,r="DuoAgentPlatformIndex",o="project",l="group",s="user",u={CREATED:{icon:"dash-circle",color:"neutral"},RUNNING:{icon:"play",color:"blue"},FINISHED:{icon:"check",color:"green"},PAUSED:{icon:"pause",color:"neutral"},STOPPED:{icon:"cancel",color:"red"},INPUT_REQUIRED:{icon:"status",color:"orange"},PLAN_APPROVAL_REQUIRED:{icon:"status",color:"orange"},TOOL_CALL_APPROVAL_REQUIRED:{icon:"status",color:"orange"},FAILED:{icon:"error",color:"red"}},c={CREATED:{variant:"neutral"},RUNNING:{variant:"info"},FINISHED:{variant:"success"},PAUSED:{variant:"neutral"},STOPPED:{variant:"danger"},INPUT_REQUIRED:{variant:"warning"},PLAN_APPROVAL_REQUIRED:{variant:"warning"},TOOL_CALL_APPROVAL_REQUIRED:{variant:"warning"},FAILED:{variant:"danger"}},d=[{text:Object(i.a)("Mention"),createHelp:function(e){return Object(i.j)(Object(i.i)("AICatalog|Trigger this %{itemType} when the service account user is mentioned in an issue or merge request."),{itemType:e})},value:"mention",valueInt:0},{text:Object(i.a)("Assign"),createHelp:function(e){return Object(i.j)(Object(i.i)("AICatalog|Trigger this %{itemType} when the service account user is assigned to issue or merge request."),{itemType:e})},value:"assign",valueInt:1},{text:Object(i.a)("Assign reviewer"),createHelp:function(e){return Object(i.j)(Object(i.i)("AICatalog|Trigger this %{itemType} when the service account user is assigned as a reviewer to a merge request."),{itemType:e})},value:"assign_reviewer",valueInt:2}],h={first:20,before:null,after:null,last:null},f=["CREATED","RUNNING","PAUSED","INPUT_REQUIRED","PLAN_APPROVAL_REQUIRED","TOOL_CALL_APPROVAL_REQUIRED"]},kTs6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return l}));const i="agents_platform_index_route",a="agents_platform_show_route",r="flow_triggers_index_route",o="flow_triggers_new_route",l="flow_triggers_edit_route"},ktwE:function(e,t,n){"use strict";t.a={"1c":function(){return n.e("vendors-hl-1c").then(n.t.bind(null,"MmBX",7))},abnf:function(){return n.e("hl-abnf").then(n.t.bind(null,"yWt6",7))},accesslog:function(){return n.e("hl-accesslog").then(n.t.bind(null,"shZ0",7))},actionscript:function(){return n.e("hl-actionscript").then(n.t.bind(null,"o5dF",7))},ada:function(){return n.e("hl-ada").then(n.t.bind(null,"9acH",7))},angelscript:function(){return n.e("hl-angelscript").then(n.t.bind(null,"mkUC",7))},apache:function(){return n.e("hl-apache").then(n.t.bind(null,"Z2Zu",7))},applescript:function(){return n.e("hl-applescript").then(n.t.bind(null,"yEBX",7))},arcade:function(){return n.e("hl-arcade").then(n.t.bind(null,"ezTr",7))},arduino:function(){return n.e("hl-arduino").then(n.t.bind(null,"zMrg",7))},armasm:function(){return n.e("hl-armasm").then(n.t.bind(null,"PrTP",7))},asciidoc:function(){return n.e("hl-asciidoc").then(n.t.bind(null,"y3Pc",7))},aspectj:function(){return n.e("hl-aspectj").then(n.t.bind(null,"guwy",7))},autohotkey:function(){return n.e("hl-autohotkey").then(n.t.bind(null,"36rc",7))},autoit:function(){return n.e("hl-autoit").then(n.t.bind(null,"Av41",7))},avrasm:function(){return n.e("hl-avrasm").then(n.t.bind(null,"Niv/",7))},awk:function(){return n.e("hl-awk").then(n.t.bind(null,"NBSA",7))},axapta:function(){return n.e("hl-axapta").then(n.t.bind(null,"gYc/",7))},bash:function(){return n.e("hl-bash").then(n.t.bind(null,"6cY6",7))},basic:function(){return n.e("hl-basic").then(n.t.bind(null,"wkWn",7))},bnf:function(){return n.e("hl-bnf").then(n.t.bind(null,"G3JX",7))},brainfuck:function(){return n.e("hl-brainfuck").then(n.t.bind(null,"HdK6",7))},c:function(){return n.e("hl-c").then(n.t.bind(null,"bz9W",7))},cal:function(){return n.e("hl-cal").then(n.t.bind(null,"2jqT",7))},capnproto:function(){return n.e("hl-capnproto").then(n.t.bind(null,"zGIz",7))},ceylon:function(){return n.e("hl-ceylon").then(n.t.bind(null,"rs8t",7))},clean:function(){return n.e("hl-clean").then(n.t.bind(null,"l8aS",7))},"clojure-repl":function(){return n.e("hl-clojure-repl").then(n.t.bind(null,"+962",7))},clojure:function(){return n.e("hl-clojure").then(n.t.bind(null,"II1M",7))},codeowners:function(){return n.e("hl-codeowners").then(n.bind(null,"1ngV"))},cmake:function(){return n.e("hl-cmake").then(n.t.bind(null,"1Xer",7))},coffeescript:function(){return n.e("hl-coffeescript").then(n.t.bind(null,"cGj1",7))},coq:function(){return n.e("hl-coq").then(n.t.bind(null,"Yl/3",7))},cos:function(){return n.e("hl-cos").then(n.t.bind(null,"lbX0",7))},cpp:function(){return n.e("hl-cpp").then(n.t.bind(null,"QLTJ",7))},crmsh:function(){return n.e("hl-crmsh").then(n.t.bind(null,"nHod",7))},crystal:function(){return n.e("hl-crystal").then(n.t.bind(null,"8Ars",7))},csharp:function(){return n.e("hl-csharp").then(n.t.bind(null,"gLkf",7))},csp:function(){return n.e("hl-csp").then(n.t.bind(null,"RFd8",7))},css:function(){return n.e("hl-css").then(n.t.bind(null,"BHqM",7))},d:function(){return n.e("hl-d").then(n.t.bind(null,"ts6h",7))},dart:function(){return n.e("hl-dart").then(n.t.bind(null,"uas8",7))},delphi:function(){return n.e("hl-delphi").then(n.t.bind(null,"nu8+",7))},diff:function(){return n.e("hl-diff").then(n.t.bind(null,"GyP9",7))},django:function(){return n.e("hl-django").then(n.t.bind(null,"eW1T",7))},dns:function(){return n.e("hl-dns").then(n.t.bind(null,"UCWZ",7))},dockerfile:function(){return n.e("hl-dockerfile").then(n.t.bind(null,"6Rb8",7))},dos:function(){return n.e("hl-dos").then(n.t.bind(null,"QICm",7))},dsconfig:function(){return n.e("hl-dsconfig").then(n.t.bind(null,"ZZSa",7))},dts:function(){return n.e("hl-dts").then(n.t.bind(null,"Fbit",7))},dust:function(){return n.e("hl-dust").then(n.t.bind(null,"uHUw",7))},ebnf:function(){return n.e("hl-ebnf").then(n.t.bind(null,"mdrG",7))},elixir:function(){return n.e("hl-elixir").then(n.t.bind(null,"bVMz",7))},elm:function(){return n.e("hl-elm").then(n.t.bind(null,"JNoN",7))},erb:function(){return n.e("hl-erb").then(n.t.bind(null,"daiH",7))},"erlang-repl":function(){return n.e("hl-erlang-repl").then(n.t.bind(null,"Vr74",7))},erlang:function(){return n.e("hl-erlang").then(n.t.bind(null,"bc9x",7))},excel:function(){return n.e("hl-excel").then(n.t.bind(null,"WzCO",7))},fix:function(){return n.e("hl-fix").then(n.t.bind(null,"TZKE",7))},flix:function(){return n.e("hl-flix").then(n.t.bind(null,"fPTV",7))},fortran:function(){return n.e("hl-fortran").then(n.t.bind(null,"tX8d",7))},fsharp:function(){return n.e("hl-fsharp").then(n.t.bind(null,"uOpX",7))},gams:function(){return n.e("hl-gams").then(n.t.bind(null,"2cMb",7))},gauss:function(){return n.e("hl-gauss").then(n.t.bind(null,"/wch",7))},gcode:function(){return n.e("hl-gcode").then(n.t.bind(null,"MSjK",7))},gherkin:function(){return n.e("hl-gherkin").then(n.t.bind(null,"FvSV",7))},gleam:function(){return n.e("hl-gleam").then(n.t.bind(null,"pY7a",7))},glimmer:async function(){return[["javascript",await n.e("hl-javascript").then(n.t.bind(null,"Hkez",7))],["glimmer",{default:(await n.e("hl-glimmer").then(n.bind(null,"A81s"))).glimmer}]]},"glimmer-javascript":async function(){return[["javascript",await n.e("hl-javascript").then(n.t.bind(null,"Hkez",7))],["glimmer-javascript",{default:(await n.e("hl-glimmer").then(n.bind(null,"A81s"))).glimmerJavascript}]]},glsl:function(){return n.e("hl-glsl").then(n.t.bind(null,"x8v4",7))},gml:function(){return n.e("vendors-hl-gml").then(n.t.bind(null,"W6Ys",7))},go:function(){return n.e("hl-go").then(n.t.bind(null,"XJ0J",7))},golo:function(){return n.e("hl-golo").then(n.t.bind(null,"EmjN",7))},gradle:function(){return n.e("hl-gradle").then(n.t.bind(null,"2StA",7))},groovy:function(){return n.e("hl-groovy").then(n.t.bind(null,"JOIh",7))},haml:function(){return n.e("hl-haml").then(n.t.bind(null,"0CcL",7))},handlebars:function(){return n.e("hl-handlebars").then(n.t.bind(null,"Q4R4",7))},haskell:function(){return n.e("hl-haskell").then(n.t.bind(null,"LU4y",7))},haxe:function(){return n.e("hl-haxe").then(n.t.bind(null,"8IZl",7))},hsp:function(){return n.e("hl-hsp").then(n.t.bind(null,"u1ik",7))},http:function(){return n.e("hl-http").then(n.t.bind(null,"NdsT",7))},hy:function(){return n.e("hl-hy").then(n.t.bind(null,"tIAU",7))},inform7:function(){return n.e("hl-inform7").then(n.t.bind(null,"tPli",7))},ini:function(){return n.e("hl-ini").then(n.t.bind(null,"POYt",7))},irpf90:function(){return n.e("hl-irpf90").then(n.t.bind(null,"B64P",7))},isbl:function(){return n.e("vendors-hl-isbl").then(n.t.bind(null,"+WT4",7))},java:function(){return n.e("hl-java").then(n.t.bind(null,"9Kyr",7))},javascript:function(){return n.e("hl-javascript").then(n.t.bind(null,"Hkez",7))},"jboss-cli":function(){return n.e("hl-jboss-cli").then(n.t.bind(null,"v/tQ",7))},json:function(){return n.e("hl-json").then(n.t.bind(null,"q0X/",7))},"julia-repl":function(){return n.e("hl-julia-repl").then(n.t.bind(null,"mRhj",7))},julia:function(){return n.e("hl-julia").then(n.t.bind(null,"PdsQ",7))},kotlin:function(){return n.e("hl-kotlin").then(n.t.bind(null,"5QDj",7))},lasso:function(){return n.e("hl-lasso").then(n.t.bind(null,"kk9f",7))},latex:function(){return n.e("hl-latex").then(n.t.bind(null,"5WMh",7))},ldif:function(){return n.e("hl-ldif").then(n.t.bind(null,"9Qiz",7))},leaf:function(){return n.e("hl-leaf").then(n.t.bind(null,"XNSq",7))},less:function(){return n.e("hl-less").then(n.t.bind(null,"3MMF",7))},lisp:function(){return n.e("hl-lisp").then(n.t.bind(null,"uKdo",7))},livecodeserver:function(){return n.e("hl-livecodeserver").then(n.t.bind(null,"+Y5W",7))},livescript:function(){return n.e("hl-livescript").then(n.t.bind(null,"Jc0c",7))},llvm:function(){return n.e("hl-llvm").then(n.t.bind(null,"sIcB",7))},lsl:function(){return n.e("hl-lsl").then(n.t.bind(null,"nhLO",7))},lua:function(){return n.e("hl-lua").then(n.t.bind(null,"lyoP",7))},makefile:function(){return n.e("hl-makefile").then(n.t.bind(null,"GGp4",7))},markdown:function(){return n.e("hl-markdown").then(n.t.bind(null,"XEuI",7))},mathematica:function(){return n.e("vendors-hl-mathematica").then(n.t.bind(null,"/L8B",7))},matlab:function(){return n.e("hl-matlab").then(n.t.bind(null,"myHi",7))},maxima:function(){return n.e("vendors-hl-maxima").then(n.t.bind(null,"9KoM",7))},mel:function(){return n.e("hl-mel").then(n.t.bind(null,"PXNX",7))},mercury:function(){return n.e("hl-mercury").then(n.t.bind(null,"TM9d",7))},mipsasm:function(){return n.e("hl-mipsasm").then(n.t.bind(null,"xMSY",7))},mizar:function(){return n.e("hl-mizar").then(n.t.bind(null,"kvtH",7))},mojolicious:function(){return n.e("hl-mojolicious").then(n.t.bind(null,"uM99",7))},monkey:function(){return n.e("hl-monkey").then(n.t.bind(null,"fD22",7))},moonscript:function(){return n.e("hl-moonscript").then(n.t.bind(null,"MJ3G",7))},n1ql:function(){return n.e("hl-n1ql").then(n.t.bind(null,"r8lK",7))},nestedtext:function(){return n.e("hl-nestedtext").then(n.t.bind(null,"oV42",7))},nginx:function(){return n.e("hl-nginx").then(n.t.bind(null,"w9Ei",7))},nim:function(){return n.e("hl-nim").then(n.t.bind(null,"J715",7))},nix:function(){return n.e("hl-nix").then(n.t.bind(null,"hVA1",7))},"node-repl":function(){return n.e("hl-node-repl").then(n.t.bind(null,"2FHN",7))},nsis:function(){return n.e("hl-nsis").then(n.t.bind(null,"LhiG",7))},objectivec:function(){return n.e("hl-objectivec").then(n.t.bind(null,"Jy3u",7))},ocaml:function(){return n.e("hl-ocaml").then(n.t.bind(null,"uXLI",7))},openscad:function(){return n.e("hl-openscad").then(n.t.bind(null,"C8jN",7))},oxygene:function(){return n.e("hl-oxygene").then(n.t.bind(null,"bbYp",7))},parser3:function(){return n.e("hl-parser3").then(n.t.bind(null,"Pf0G",7))},perl:function(){return n.e("hl-perl").then(n.t.bind(null,"CQgn",7))},pf:function(){return n.e("hl-pf").then(n.t.bind(null,"lZ04",7))},pgsql:function(){return n.e("hl-pgsql").then(n.t.bind(null,"Bb5g",7))},"php-template":function(){return n.e("hl-php-template").then(n.t.bind(null,"jKSZ",7))},php:function(){return n.e("hl-php").then(n.t.bind(null,"lDyf",7))},plaintext:function(){return n.e("hl-plaintext").then(n.t.bind(null,"INpA",7))},pony:function(){return n.e("hl-pony").then(n.t.bind(null,"dZcz",7))},powershell:function(){return n.e("hl-powershell").then(n.t.bind(null,"02uL",7))},processing:function(){return n.e("hl-processing").then(n.t.bind(null,"OJET",7))},profile:function(){return n.e("hl-profile").then(n.t.bind(null,"LEop",7))},prolog:function(){return n.e("hl-prolog").then(n.t.bind(null,"z43u",7))},properties:function(){return n.e("hl-properties").then(n.t.bind(null,"RobX",7))},protobuf:function(){return n.e("hl-protobuf").then(n.t.bind(null,"FAGp",7))},puppet:function(){return n.e("hl-puppet").then(n.t.bind(null,"sfBZ",7))},purebasic:function(){return n.e("hl-purebasic").then(n.t.bind(null,"6jWn",7))},"python-repl":function(){return n.e("hl-python-repl").then(n.t.bind(null,"NUM8",7))},python:function(){return n.e("hl-python").then(n.t.bind(null,"kQSX",7))},q:function(){return n.e("hl-q").then(n.t.bind(null,"PK1M",7))},qml:function(){return n.e("hl-qml").then(n.t.bind(null,"zMqd",7))},r:function(){return n.e("hl-r").then(n.t.bind(null,"AGBs",7))},reasonml:function(){return n.e("hl-reasonml").then(n.t.bind(null,"uzur",7))},rib:function(){return n.e("hl-rib").then(n.t.bind(null,"A/Pp",7))},roboconf:function(){return n.e("hl-roboconf").then(n.t.bind(null,"ScP6",7))},routeros:function(){return n.e("hl-routeros").then(n.t.bind(null,"qqk0",7))},rsl:function(){return n.e("hl-rsl").then(n.t.bind(null,"Pem9",7))},ruby:function(){return n.e("hl-ruby").then(n.t.bind(null,"rk4h",7))},ruleslanguage:function(){return n.e("hl-ruleslanguage").then(n.t.bind(null,"16Os",7))},rust:function(){return n.e("hl-rust").then(n.t.bind(null,"aDvT",7))},sas:function(){return n.e("hl-sas").then(n.t.bind(null,"x3Zy",7))},scala:function(){return n.e("hl-scala").then(n.t.bind(null,"Ra+D",7))},scheme:function(){return n.e("hl-scheme").then(n.t.bind(null,"8fyg",7))},scilab:function(){return n.e("hl-scilab").then(n.t.bind(null,"8RyS",7))},scss:function(){return n.e("hl-scss").then(n.t.bind(null,"JQqV",7))},shell:function(){return n.e("hl-shell").then(n.t.bind(null,"yYls",7))},smali:function(){return n.e("hl-smali").then(n.t.bind(null,"5hNC",7))},smalltalk:function(){return n.e("hl-smalltalk").then(n.t.bind(null,"/X/t",7))},sml:function(){return n.e("hl-sml").then(n.t.bind(null,"nW+x",7))},sqf:function(){return n.e("vendors-hl-sqf").then(n.t.bind(null,"NOvZ",7))},sql:function(){return n.e("hl-sql").then(n.t.bind(null,"ECDl",7))},stan:function(){return n.e("hl-stan").then(n.t.bind(null,"Seg1",7))},stata:function(){return n.e("hl-stata").then(n.t.bind(null,"J6WT",7))},step21:function(){return n.e("hl-step21").then(n.t.bind(null,"xidB",7))},stylus:function(){return n.e("hl-stylus").then(n.t.bind(null,"aVxN",7))},subunit:function(){return n.e("hl-subunit").then(n.t.bind(null,"1C97",7))},svelte:function(){return n.e("hl-svelte").then(n.bind(null,"8W0N"))},hcl:function(){return n.e("hl-hcl").then(n.bind(null,"+gAZ"))},swift:function(){return n.e("hl-swift").then(n.t.bind(null,"ocrO",7))},taggerscript:function(){return n.e("hl-taggerscript").then(n.t.bind(null,"AHhr",7))},tap:function(){return n.e("hl-tap").then(n.t.bind(null,"OePh",7))},tcl:function(){return n.e("hl-tcl").then(n.t.bind(null,"LqEr",7))},thrift:function(){return n.e("hl-thrift").then(n.t.bind(null,"A/1f",7))},tp:function(){return n.e("hl-tp").then(n.t.bind(null,"s9EU",7))},twig:function(){return n.e("hl-twig").then(n.t.bind(null,"/T3c",7))},typescript:function(){return n.e("hl-typescript").then(n.t.bind(null,"xrXR",7))},ts:function(){return n.e("hl-typescript").then(n.t.bind(null,"xrXR",7))},vala:function(){return n.e("hl-vala").then(n.t.bind(null,"PjJi",7))},vbnet:function(){return n.e("hl-vbnet").then(n.t.bind(null,"7RCx",7))},"vbscript-html":function(){return n.e("hl-vbscript-html").then(n.t.bind(null,"IYGk",7))},vbscript:function(){return n.e("hl-vbscript").then(n.t.bind(null,"EFJ1",7))},verilog:function(){return n.e("hl-verilog").then(n.t.bind(null,"Cn1c",7))},veryl:function(){return n.e("hl-veryl").then(n.t.bind(null,"Jmhv",7))},vhdl:function(){return n.e("hl-vhdl").then(n.t.bind(null,"sBiI",7))},vim:function(){return n.e("hl-vim").then(n.t.bind(null,"9Wji",7))},wasm:function(){return n.e("hl-wasm").then(n.t.bind(null,"ypum",7))},wren:function(){return n.e("hl-wren").then(n.t.bind(null,"GjLa",7))},x86asm:function(){return n.e("hl-x86asm").then(n.t.bind(null,"/hG9",7))},xl:function(){return n.e("hl-xl").then(n.t.bind(null,"aN0O",7))},xml:function(){return n.e("hl-xml").then(n.t.bind(null,"B16M",7))},xquery:function(){return n.e("hl-xquery").then(n.t.bind(null,"qMEI",7))},yaml:function(){return n.e("hl-yaml").then(n.t.bind(null,"Fin6",7))},zephir:function(){return n.e("hl-zephir").then(n.t.bind(null,"MTL1",7))}}},mQTt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ewH8");function a(){return{showBetaBadge:Object(i.computed)((function(){var e;return!(null!==(e=window.gon)&&void 0!==e&&e.ai_duo_agent_platform_ga_rollout)}))}}},mQrz:function(e,t,n){"use strict";var i=n("G3fq"),a=n.n(i),r=n("Mp8J"),o=n("ktwE"),l=n("OgoU"),s={name:"CodeBlockHighlighted",directives:{SafeHtml:r.a},components:{CodeBlock:l.a},props:{code:{type:String,required:!0},language:{type:String,required:!0},maxHeight:{type:String,required:!1,default:"initial"}},data:()=>({hljs:null,languageLoaded:!1}),computed:{highlighted(){return this.hljs&&this.languageLoaded?this.hljs.default.highlight(this.code,{language:this.language}).value:a()(this.code)}},async mounted(){this.hljs=await this.loadHighlightJS(),this.language&&await this.loadLanguage()},methods:{async loadLanguage(){try{const{default:e}=await o.a[this.language]();this.hljs.default.registerLanguage(this.language,e),this.languageLoaded=!0}catch(e){this.$emit("error",e)}},loadHighlightJS:()=>Promise.resolve().then(n.t.bind(null,"7XEj",7))}},u=n("tBpV"),c=Object(u.a)(s,(function(){var e=this._self._c;return e("code-block",{staticClass:"highlight",attrs:{"max-height":this.maxHeight}},[e("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.highlighted,expression:"highlighted"}]})])}),[],!1,null,null,null);t.a=c.exports},n7eE:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var i=n("W4cT");const a=[i.xb,i.wb,i.tb,i.Tb,i.bc,"attention"],r={hint:"hint",operator:"operator"},o={none:"none",any:"any"},l=5,s={MERGE_REQUESTS:"merge_requests",ISSUES:"issues"}},nwJz:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return m}));n("byxs"),n("RFHG"),n("z6RN"),n("xuo1");var i=n("NnaV"),a=n("/lV4"),r=n("0AwG"),o=n("XVX/"),l=n("il1Q");const s=function(e){return Object(r.r)(e||Object(a.i)("DuoAgentsPlatform|Agent session"))},u=function(e,t){return`${s(e)} #${t}`},c=function(e){return e?Object(r.r)(e.toLowerCase()):Object(a.i)("DuoAgentsPlatform|Unknown")},d=function(e){return l.f[e]||l.f.CREATED},h=function(e){return l.e[e]||l.e.FAILED},f=function(e,t,n=[]){return[...t,...n].reduce((function(t,i){const a=e[i];return n.includes(i)?t[i]=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}(a):t[i]=a,t}),{})},g=function(e){if(!e.messageType)throw new Error(`Message requires property 'message_type' but got ${JSON.stringify(e)} `);switch(e.messageType){case"user":return{icon:"user",title:Object(a.i)("DuoAgentPlatform|User messaged agent"),level:1};case"request":return{icon:"question-o",title:Object(a.i)("DuoAgentPlatform|Agent required human input"),level:1};case"agent":return{icon:"tanuki-ai",title:Object(a.i)("DuoAgentPlatform|Agent reasoning"),level:0};case"tool":return function(e){var t;const n=null==e||null===(t=e.toolInfo)||void 0===t?void 0:t.name;return{read_file:{icon:"eye",title:Object(a.i)("DuoAgentsPlatform|Read file"),level:0},write_file:{icon:"pencil",title:Object(a.i)("DuoAgentsPlatform|Write file"),level:1},edit_file:{icon:"pencil",title:Object(a.i)("DuoAgentsPlatform|Edit file"),level:1},create_file_with_contents:{icon:"pencil",title:Object(a.i)("DuoAgentsPlatform|Create file"),level:1},grep:{icon:"search",title:Object(a.i)("DuoAgentsPlatform|Search"),level:0},grep_files:{icon:"search",title:Object(a.i)("DuoAgentsPlatform|Search files"),level:0},list_files:{icon:"search",title:Object(a.i)("DuoAgentsPlatform|List files"),level:0},list_dir:{icon:"folder-open",title:Object(a.i)("DuoAgentsPlatform|List directory"),level:0},gitlab_issue_search:{icon:"search",title:Object(a.i)("DuoAgentsPlatform|Search issues"),level:0},get_issue:{icon:"work-item-issue",title:Object(a.i)("DuoAgentsPlatform|Get issue"),level:0},create_merge_request:{icon:"git-merge",title:Object(a.i)("DuoAgentsPlatform|Create merge request"),level:1},list_issue_notes:{icon:"work-item-issue",title:Object(a.i)("DuoAgentsPlatform|List comments"),level:0},create_commit:{icon:"commit",title:Object(a.i)("DuoAgentsPlatform|Create commit"),level:1}}[n]||{icon:"work-item-maintenance",title:Object(a.i)("DuoAgentsPlatform|Action"),level:0}}(e);default:return{icon:"work-item-maintenance",title:Object(a.i)("DuoAgentPlatform|Action"),level:0}}},p=Object(i.c)(null),m=function(e){if(!e)return"";try{return o.d.asDate.format(new Date(e))}catch{return""}}},rl6x:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i="groups",a="projects";t.c={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches",group_members:"group-members-recent-searches",group_invited_members:"group-invited-members-recent-searches",project_members:"project-members-recent-searches",project_group_links:"project-group-links-recent-searches",[i]:"groups-recent-searches",[a]:"projects-recent-searches"}},udiD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n("apM3"),a=n("ewH8");a.default.use(i.a);const r=new a.default;function o(...e){return r.$toast.show(...e)}},wQDE:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n("O6Bj");n("U6io");const a=function(){return!window.gon.keyboard_shortcuts_enabled};function r(){localStorage.setItem("shortcutsDisabled",!0),i.b.pause()}},wdUq:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n("il1Q"),a=(n("3UXl"),n("iyoE"),n("/lV4")),r=n("jlnU"),o=n("5v28"),l=n("ARYf"),s=n.n(l),u=(n("RFHG"),n("z6RN"),n("xuo1"),n("UezY"),n("hG7+"),n("kOP/")),c=n("Q5rj"),d=n("35gi"),h=n("JPV+"),f=n("/w+w"),g=n("C1Tf"),p=n("W4cT"),m=n("mQTt"),b=n("l85A"),v=n("JqFC"),y=n("D6ST"),k=n("wkJj"),w=n("kTs6"),S=(n("v2fZ"),n("Jx7q")),j=n("FxFN"),C=n("i1dK"),O=n("3twG"),A=n("nwJz"),x=n("H63F"),_={name:"AgentFlowListItem",components:{GlLink:S.a,AgentStatusIcon:x.a},props:{showProjectInfo:{required:!1,type:Boolean,default:!1},item:{required:!0,type:Object}},computed:{linkHoverStyles:()=>["hover:gl-bg-[--gl-action-neutral-background-color-hover]","hover:gl-no-underline","focus:gl-no-underline","active:gl-no-underline","focus:active:gl-no-underline"],sessionUrl(){var e;return null!==(e=this.item.project)&&void 0!==e&&e.webUrl?Object(O.C)(this.item.project.webUrl,"-/automate/agent-sessions",String(this.formatId(this.item.id))):null}},methods:{formatId:e=>Object(j.f)(e),formatName({workflowDefinition:e,id:t}){return Object(A.c)(e,this.formatId(t))},formatStatus:e=>Object(A.d)(e),formatUpdatedAt(e){try{return Object(C.b)().format(e)}catch{return e||""}},handleItemSelected(e){e.metaKey||e.ctrlKey||(e.preventDefault(),this.$router.push({name:this.$options.showRoute,params:{id:this.formatId(this.item.id)}}))}},showRoute:w.b},T=n("tBpV"),D=Object(T.a)(_,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"gl-list-none"},[t("gl-link",{staticClass:"gl-flex gl-flex-col gl-p-4",class:e.linkHoverStyles,attrs:{href:e.sessionUrl},on:{click:e.handleItemSelected}},[t("div",{staticClass:"gl-flex gl-items-center gl-justify-between"},[t("div",{staticClass:"gl-flex gl-items-center"},[t("agent-status-icon",{attrs:{status:e.item.status,"human-status":e.formatStatus(e.item.humanStatus)}}),e._v(" "),t("strong",{staticClass:"gl-pl-3 gl-text-strong"},[e._v(e._s(e.formatName(e.item)))])],1),e._v(" "),e.showProjectInfo&&e.item.project?t("div",{staticClass:"gl-text-subtle"},[e._v("\n        "+e._s(e.item.project.name)+"\n      ")]):e._e()]),e._v(" "),t("div",{staticClass:"gl-ml-7 gl-mt-0 gl-flex gl-items-center gl-gap-2 gl-text-subtle"},[t("span",[e._v(e._s(e.formatStatus(e.item.humanStatus)))]),e._v(" "),t("span",{staticClass:"gl-text-subtle",attrs:{"aria-hidden":"true"}},[e._v("Â·")]),e._v(" "),t("span",[e._v(e._s(e.formatUpdatedAt(e.item.updatedAt)))])])])],1)}),[],!1,null,null,null).exports,N={name:"AgentFlowList",components:{EmptyResult:k.b,GlEmptyState:b.a,GlKeysetPagination:v.a,AgentFlowListItem:D},props:{showEmptyState:{required:!0,type:Boolean},showProjectInfo:{required:!1,type:Boolean,default:!1},workflows:{required:!0,type:Array},workflowsPageInfo:{required:!0,type:Object}},computed:{hasWorkflows(){var e;return(null===(e=this.workflows)||void 0===e?void 0:e.length)>0}},methods:{displayPagination(){var e,t;return(null===(e=this.workflowsPageInfo)||void 0===e?void 0:e.hasNextPage)||(null===(t=this.workflowsPageInfo)||void 0===t?void 0:t.hasPreviousPage)}},showRoute:w.b,emptyStateIllustrationPath:y.a},I=Object(T.a)(N,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-w-full",class:{"gl-self-center":!e.hasWorkflows}},[e.showEmptyState?t("gl-empty-state",{attrs:{title:e.s__("DuoAgentsPlatform|No agent sessions yet"),description:e.s__("DuoAgentsPlatform|New agent sessions will appear here."),"svg-path":e.$options.emptyStateIllustrationPath}}):[e.hasWorkflows?t("ul",{staticClass:"gl-divide-x-0 gl-divide-y-1 gl-divide-solid gl-divide-subtle gl-px-0"},e._l(e.workflows,(function(n){return t("agent-flow-list-item",{key:n.id,attrs:{item:n,"show-project-info":e.showProjectInfo}})})),1):t("empty-result",{attrs:{type:"search"}}),e._v(" "),e.displayPagination()?t("gl-keyset-pagination",e._b({staticClass:"gl-mt-5 gl-flex gl-justify-center",on:{prev:function(t){return e.$emit("prev-page")},next:function(t){return e.$emit("next-page")}}},"gl-keyset-pagination",e.workflowsPageInfo,!1)):e._e()]],2)}),[],!1,null,null,null).exports,F={name:i.c,components:{AgentFlowList:I,FilteredSearchBar:g.a,GlExperimentBadge:u.a,GlSkeletonLoader:c.a,PageHeading:f.a},inject:{isSidePanelView:{default:!1}},props:{hasInitialWorkflows:{required:!0,type:Boolean},initialSort:{required:!0,type:String},isLoadingWorkflows:{required:!0,type:Boolean},workflows:{required:!0,type:Array},workflowsPageInfo:{required:!0,type:Object}},data(){return{currentFilters:[],currentSort:this.initialSort,paginationVariables:{},filterVariables:{}}},computed:{showEmptyState(){return!this.hasInitialWorkflows},showBetaBadge(){const{showBetaBadge:e}=Object(m.a)();return e.value},processedFiltersForGraphQL(){const e={"flow-name":"type","flow-status-group":"statusGroup",[p.d]:"search"};return this.currentFilters.filter((function(t){var n;return(null===(n=t.value)||void 0===n?void 0:n.data)&&e[t.type]})).reduce((function(t,n){return t[e[n.type]]=n.value.data,t}),{})}},methods:{handleNextPage(){const e={before:null,after:this.workflowsPageInfo.endCursor,first:20,last:null};this.handlePagination(e)},handlePrevPage(){const e={after:null,before:this.workflowsPageInfo.startCursor,first:null,last:20};this.handlePagination(e)},handlePagination(e){this.paginationVariables=e,this.emitVariables()},resetPagination(){this.handlePagination(i.h)},handleSort(e){this.currentSort=e,this.resetPagination(),this.emitVariables()},handleFilter(e){this.currentFilters=e,this.refetchWithFilters(this.processedFiltersForGraphQL)},refetchWithFilters(e){this.filterVariables=e,this.resetPagination(),this.emitVariables()},emitVariables(){this.$emit("query-variables-updated",{sort:this.currentSort,pagination:this.paginationVariables,filters:this.filterVariables})}},emptyStateIllustrationPath:h.a,availableSortOptions:[{id:1,title:Object(a.a)("Created date"),sortDirection:{descending:"CREATED_DESC",ascending:"CREATED_ASC"}},{id:2,title:Object(a.a)("Updated date"),sortDirection:{descending:"UPDATED_DESC",ascending:"UPDATED_ASC"}}],tokens:[{type:"flow-name",title:Object(a.i)("DuoAgentsPlatform|Flow"),icon:"flow-ai",token:d.a,operators:p.o,unique:!0,options:[{value:"code_review/v1",title:Object(a.a)("Code review")},{value:"convert_to_gitlab_ci",title:Object(a.i)("DuoAgentsPlatform|Convert to gitlab ci")},{value:"developer/v1",title:Object(a.i)("DuoAgentsPlatform|Developer")},{value:"fix_pipeline/v1",title:Object(a.i)("DuoAgentsPlatform|Fix pipeline")},{value:"issue_to_merge_request",title:Object(a.i)("DuoAgentsPlatform|Issue to merge request")},{value:"software_development",title:Object(a.i)("DuoAgentsPlatform|Software development")}]},{type:"flow-status-group",title:Object(a.a)("Status"),icon:"status",token:d.a,operators:p.o,unique:!0,options:[{value:"ACTIVE",title:Object(a.a)("Active")},{value:"PAUSED",title:Object(a.a)("Paused")},{value:"AWAITING_INPUT",title:Object(a.a)("Awaiting input")},{value:"COMPLETED",title:Object(a.a)("Completed")},{value:"FAILED",title:Object(a.a)("Failed")},{value:"CANCELED",title:Object(a.a)("Canceled")}]}]},P=Object(T.a)(F,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-min-h-full gl-flex-wrap gl-justify-center"},[e.isSidePanelView?e._e():t("page-heading",{scopedSlots:e._u([{key:"heading",fn:function(){return[t("div",{staticClass:"gl-flex"},[t("span",[e._v(e._s(e.s__("DuoAgentsPlatform|Sessions")))]),e._v(" "),e.showBetaBadge?t("gl-experiment-badge",{staticClass:"gl-self-center",attrs:{type:"beta"}}):e._e()],1)]},proxy:!0}],null,!1,3180146502)}),e._v(" "),e.hasInitialWorkflows?t("filtered-search-bar",{staticClass:"gl-grow gl-border-t-0 gl-p-4",attrs:{namespace:"duo-agents-platform",tokens:e.$options.tokens,"search-input-placeholder":e.s__("DuoAgentsPlatform|Search for a session"),"sort-options":e.$options.availableSortOptions,"initial-sort-by":e.initialSort,"initial-sort":e.initialSort,"recent-searches-storage-key":"agent-sessions","sync-filter-and-sort":"","terms-as-tokens":"","data-testid":"agent-sessions-search-container"},on:{onFilter:e.handleFilter,onSort:e.handleSort}}):e._e(),e._v(" "),e.isLoadingWorkflows?t("div",{staticClass:"gl-flex gl-w-full gl-flex-col gl-gap-5 gl-p-5",attrs:{"data-testid":"loading-container"}},[t("gl-skeleton-loader",{attrs:{lines:2,width:300}}),e._v(" "),t("gl-skeleton-loader",{attrs:{lines:2,width:300}}),e._v(" "),t("gl-skeleton-loader",{attrs:{lines:2,width:300}})],1):t("agent-flow-list",{attrs:{"show-project-info":e.isSidePanelView,"show-empty-state":e.showEmptyState,"initial-sort":e.initialSort,workflows:e.workflows,"workflows-page-info":e.workflowsPageInfo},on:{"next-page":e.handleNextPage,"prev-page":e.handlePrevPage}})],1)}),[],!1,null,null,null).exports,E={components:{DuoAgentsPlatformIndex:P},inject:["projectPath"],data:()=>({workflows:[],workflowsPageInfo:{},currentSort:"UPDATED_DESC",hasInitialWorkflows:!1,paginationVariables:{...i.h},filterVariables:{}}),apollo:{workflows:{query:s.a,fetchPolicy:o.e.CACHE_AND_NETWORK,variables(){return{projectPath:this.projectPath,...this.paginationVariables,sort:this.currentSort,...this.filterVariables}},update(e){var t;return(null==e||null===(t=e.project)||void 0===t||null===(t=t.duoWorkflowWorkflows)||void 0===t||null===(t=t.edges)||void 0===t?void 0:t.map((function(e){return e.node})))||[]},result({data:e}){var t,n;this.workflowsPageInfo=(null==e||null===(t=e.project)||void 0===t||null===(t=t.duoWorkflowWorkflows)||void 0===t?void 0:t.pageInfo)||{};((null==e||null===(n=e.project)||void 0===n||null===(n=n.duoWorkflowWorkflows)||void 0===n||null===(n=n.edges)||void 0===n?void 0:n.map((function(e){return e.node})))||[]).length>0&&(this.hasInitialWorkflows=!0)},error(e){Object(r.createAlert)({message:e.message||Object(a.i)("DuoAgentsPlatform|Failed to fetch workflows"),captureError:!0})}}},computed:{isLoadingWorkflows(){return this.$apollo.queries.workflows.loading}},methods:{handleQueryVariablesUpdate({sort:e,pagination:t,filters:n}){this.currentSort=e,this.paginationVariables=t,this.filterVariables=n}}},q=Object(T.a)(E,(function(){return(0,this._self._c)("duo-agents-platform-index",{attrs:{"has-initial-workflows":this.hasInitialWorkflows,"initial-sort":this.currentSort,"is-loading-workflows":this.isLoadingWorkflows,workflows:this.workflows,"workflows-page-info":this.workflowsPageInfo},on:{"query-variables-updated":this.handleQueryVariablesUpdate}})}),[],!1,null,null,null).exports,L=n("+4oz"),G={components:{DuoAgentsPlatformIndex:P},data:()=>({workflows:[],workflowsPageInfo:{},currentSort:"UPDATED_DESC",hasInitialWorkflows:!1,paginationVariables:{...i.h},filterVariables:{}}),apollo:{workflows:{query:n.n(L).a,pollInterval:1e4,variables(){return{...this.paginationVariables,excludeTypes:["chat"],sort:this.currentSort,...this.filterVariables}},update(e){var t;return(null==e||null===(t=e.duoWorkflowWorkflows)||void 0===t||null===(t=t.edges)||void 0===t?void 0:t.map((function(e){return e.node})))||[]},result({data:e}){var t,n;this.workflowsPageInfo=(null==e||null===(t=e.duoWorkflowWorkflows)||void 0===t?void 0:t.pageInfo)||{};((null==e||null===(n=e.duoWorkflowWorkflows)||void 0===n||null===(n=n.edges)||void 0===n?void 0:n.map((function(e){return e.node})))||[]).length>0&&(this.hasInitialWorkflows=!0)},error(e){Object(r.createAlert)({message:e.message||Object(a.i)("DuoAgentsPlatform|Failed to fetch workflows"),captureError:!0})}}},computed:{isLoadingWorkflows(){return this.$apollo.queries.workflows.loading}},methods:{handleQueryVariablesUpdate({sort:e,pagination:t,filters:n}){this.currentSort=e,this.paginationVariables=t,this.filterVariables=n}}},V=Object(T.a)(G,(function(){return(0,this._self._c)("duo-agents-platform-index",{staticClass:"gl-min-w-full",attrs:{"has-initial-workflows":this.hasInitialWorkflows,"initial-sort":this.currentSort,"is-loading-workflows":this.isLoadingWorkflows,workflows:this.workflows,"workflows-page-info":this.workflowsPageInfo},on:{"query-variables-updated":this.handleQueryVariablesUpdate}})}),[],!1,null,null,null).exports;const R=function(e){if(!e)throw new Error("The namespace argument must be passed to the Vue Router");return{[i.d]:q,[i.g]:V}[e]}},wkJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("UfBS"),a=n("l85A"),r=n("/lV4");const o={search:"search",filter:"filter"};var l={i18n:{titleSearch:Object(r.a)("No results found"),descriptionSearch:Object(r.a)("Edit your search and try again."),descriptionSearchMinLength:Object(r.a)("Search must be at least %{searchMinimumLength} characters."),titleFilter:Object(r.a)("No results found"),descriptionFilter:Object(r.a)("To widen your search, change or remove filters above.")},components:{GlEmptyState:a.a},props:{type:{type:String,required:!1,default:o.search,validator:function(e){return Object.values(o).includes(e)}},search:{type:String,required:!1,default:""},searchMinimumLength:{type:Number,required:!1,default:0}},computed:{title(){return this.type===o.search?this.$options.i18n.titleSearch:this.$options.i18n.titleFilter},description(){return this.search.length<this.searchMinimumLength?Object(r.j)(this.$options.i18n.descriptionSearchMinLength,{searchMinimumLength:this.searchMinimumLength}):this.type===o.search?this.$options.i18n.descriptionSearch:this.$options.i18n.descriptionFilter}},emptyStateSvgPath:i.a},s=n("tBpV"),u=Object(s.a)(l,(function(){return(0,this._self._c)("gl-empty-state",{attrs:{"svg-path":this.$options.emptyStateSvgPath,title:this.title,description:this.description}})}),[],!1,null,null,null);t.b=u.exports},"x+pc":function(e,t,n){"use strict";var i=n("2ibD"),a=n("jlnU"),r=n("/lV4"),o=n("4wgn"),l=n("FxFN"),s=n("Euva"),u=n("il1Q"),c=n("nwJz"),d=n("hxHM"),h=n("+wZC"),f=n("kTs6"),g=n("Q5rj"),p={components:{GlSkeletonLoader:g.a},props:{isLoading:{required:!0,type:Boolean},agentFlowDefinition:{required:!0,type:String}},computed:{pageTitle(){return Object(c.c)(this.agentFlowDefinition,this.$route.params.id)}}},m=n("tBpV"),b=Object(m.a)(p,(function(){var e=this._self._c;return e("div",{staticClass:"gl-mt-6"},[this.isLoading?e("div",[e("gl-skeleton-loader",{attrs:{lines:1,width:400}})],1):e("div",[e("h1",{staticClass:"gl-heading-1"},[this._v(this._s(this.pageTitle))])])])}),[],!1,null,null,null).exports,v=(n("3UXl"),n("iyoE"),n("9/Bc")),y=n("CbCZ"),k=n("Jx7q"),w=n("zIFf"),S=n("XVX/"),j=n("3twG");var C={components:{GlBadge:v.a,GlButton:y.a,GlLink:k.a,GlSkeletonLoader:g.a},directives:{GlTooltip:w.a},props:{isLoading:{required:!0,type:Boolean},status:{required:!0,type:String},humanStatus:{required:!0,type:String},agentFlowDefinition:{required:!0,type:String},executorUrl:{required:!1,type:String,default:""},createdAt:{type:String,required:!1,default:""},updatedAt:{type:String,required:!1,default:""},project:{type:Object,required:!0},canUpdateWorkflow:{type:Boolean,required:!0}},emits:["cancel-session"],computed:{itemStatus(){return Object(c.f)(this.status)},jobId(){const e=this.executorUrl.split("/").pop();return!e||Number.isNaN(Number(e))?null:e},projectAgentSessionsUrl(){var e;const t=this.$route.params.id,n=null===(e=this.project)||void 0===e?void 0:e.webUrl;return t&&n?Object(j.C)(n,"/-/automate/agent-sessions/"+t):""},canCancelSession(){return u.a.includes(this.status)},buttonTooltip(){return this.canUpdateWorkflow?"":Object(r.i)("DuoAgentsPlatform|You do not have permission to cancel this session.")},payload(){var e,t,n,i;return[{key:Object(r.i)("DuoAgentPlatform|Session ID"),value:this.$route.params.id,link:this.projectAgentSessionsUrl},{key:Object(r.a)("Status"),value:this.humanStatus},{key:Object(r.a)("Project"),value:null===(e=this.project)||void 0===e?void 0:e.name,link:null===(t=this.project)||void 0===t?void 0:t.webUrl},{key:Object(r.a)("Group"),value:null===(n=this.project)||void 0===n||null===(n=n.namespace)||void 0===n?void 0:n.name,link:null===(i=this.project)||void 0===i||null===(i=i.namespace)||void 0===i?void 0:i.webUrl},{key:"Type",value:Object(r.i)("DuoAgentPlatform|Flow")},{key:Object(r.i)("AI|Flow"),value:this.agentFlowDefinition},{key:Object(r.i)("DuoAgentPlatform|Job ID"),value:this.jobId,link:this.executorUrl},{key:Object(r.a)("Started"),value:this.formatTimestamp(this.createdAt)},{key:Object(r.a)("Last updated"),value:this.formatTimestamp(this.updatedAt)}].map((function(e){return{...e,value:e.value?e.value:Object(r.a)("N/A")}}))}},methods:{formatTimestamp(e){if(!e)return Object(r.a)("N/A");try{const t=new Date(e);return Number.isNaN(t.getTime())?Object(r.a)("N/A"):S.d.asDateTime.format(t)}catch(e){return Object(r.a)("N/A")}}}},O=Object(m.a)(C,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"gl-pl-4"},[t("h5",{attrs:{"data-testid":"session-info-heading"}},[e._v(e._s(e.s__("DuoAgentPlatform|Session information")))]),e._v(" "),t("ul",{staticClass:"gl-list-none gl-p-0"},e._l(e.payload,(function(n){return t("li",{key:n.key,staticClass:"gl-mb-4"},[t("span",{staticClass:"gl-mb-2 gl-text-subtle",attrs:{"data-testid":"info-title"}},[e._v("\n          "+e._s(e.sprintf(e.__("%{label}:"),{label:n.key}))+"\n        ")]),e._v(" "),e.isLoading?[t("gl-skeleton-loader",{attrs:{lines:1}})]:[t("span",{attrs:{"data-testid":"info-value"}},[n.link?t("gl-link",{attrs:{href:n.link}},[e._v(e._s(n.value))]):"Status"===n.key?t("gl-badge",{staticClass:"gl-mr-3",attrs:{variant:e.itemStatus.variant}},[e._v("\n              "+e._s(n.value)+"\n            ")]):[e._v(e._s(n.value))]],2)]],2)})),0)]),e._v(" "),e.canCancelSession?t("div",{staticClass:"gl-border-t gl-pl-4 gl-pt-4"},[t("div",{staticClass:"gl-flex gl-gap-3"},[t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.buttonTooltip,expression:"buttonTooltip"}]},[t("gl-button",{attrs:{category:"secondary",variant:"danger",disabled:!e.canUpdateWorkflow,"data-testid":"cancel-session-button"},on:{click:function(t){return e.$emit("cancel-session")}}},[e._v("\n          "+e._s(e.s__("DuoAgentsPlatform|Cancel session"))+"\n        ")])],1)])]):e._e()])}),[],!1,null,null,null).exports,A=n("QSfG"),x=n("HTBS"),_=n("yynV"),T=n("7F3p"),D={name:"AgentFlowSubHeader",components:{GlSkeletonLoader:g.a,GlAvatarLink:A.a,GlAvatar:x.a},directives:{GlTooltip:w.a},props:{isLoading:{required:!0,type:Boolean},agentFlowDefinition:{required:!0,type:String},createdAt:{required:!0,type:String},userId:{required:!0,type:String}},data:()=>({user:{},isFetchingUser:!1}),computed:{numericUserId(){return this.userId&&Object(l.i)(this.userId)?Object(l.f)(this.userId):this.userId},userUsername(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""},userWebUrl(){var e;return(null===(e=this.user)||void 0===e?void 0:e.web_url)||""},userAvatarUrl(){var e;return(null===(e=this.user)||void 0===e?void 0:e.avatar_url)||""},userName(){var e;return(null===(e=this.user)||void 0===e?void 0:e.name)||""},isLoadingUser(){return this.isLoading||this.isFetchingUser}},watch:{numericUserId:{immediate:!0,handler(e){e&&this.fetchUser()}}},methods:{formatDate:c.e,async fetchUser(){this.isFetchingUser=!0;try{const{data:e}=await Object(_.c)(this.numericUserId);this.user=e}catch(e){T.b(e),this.user={}}finally{this.isFetchingUser=!1}}}},N=Object(m.a)(D,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-border-b"},[e.isLoadingUser?t("div",[t("gl-skeleton-loader",{staticClass:"gl-m-4",attrs:{lines:1,width:400}})],1):t("div",{staticClass:"gl-m-4"},[t("div",{staticClass:"gl-flex gl-items-center gl-gap-3"},[t("gl-avatar-link",{staticClass:"js-user-link",attrs:{href:e.userWebUrl,"data-user-id":e.numericUserId,"data-username":e.userUsername}},[t("gl-avatar",{attrs:{src:e.userAvatarUrl,"entity-name":e.userUsername,alt:e.userName,size:32}})],1),e._v(" "),t("div",[t("gl-avatar-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"js-user-link gl-font-bold",attrs:{href:e.userWebUrl,"data-user-id":e.numericUserId,"data-username":e.userUsername,title:e.userName}},[e._v("\n          @"+e._s(e.userUsername)+"\n        ")]),e._v(" "),t("span",{staticClass:"gl-lowercase"},[e._v(e._s(e.s__("DuoAgentPlatform|Triggered")))]),e._v("\n        "+e._s(e.sprintf(e.s__("DuoAgentPlatform|%{agentName} %{date}"),{agentName:e.agentFlowDefinition,date:e.formatDate(e.createdAt)}))+"\n      ")],1)],1)])])}),[],!1,null,null,null).exports,I=(n("UezY"),n("z6RN"),n("hG7+"),n("B++/"),n("47t/"),n("93nq")),F=n("l85A"),P=n("dIEn"),E=n("ns4V"),q=(n("LdIe"),n("PTOk"),n("d85j")),L=n("bOix"),G=n("b49+"),V={name:"ActivityConnectorSvg",props:{targets:{type:Array,required:!0,validator:e=>e.every((function(e){return e instanceof HTMLElement}))}},data:()=>({svgRect:{}}),computed:{startCoordinate(){return this.computeCoordinates(this.targets[0])},endCoordinate(){return this.computeCoordinates(this.targets[this.targets.length-1])}},mounted(){window.addEventListener("resize",this.updateSvgRect),this.updateSvgRect()},methods:{computeCoordinates(e){if(!e||!this.svgRect.left&&0!==this.svgRect.left)return{x:0,y:0};const t=e.getBoundingClientRect();return{x:t.left+t.width/2-this.svgRect.left,y:t.top-this.svgRect.top}},updateSvgRect(){var e=this;this.$refs.svg&&setTimeout((function(){e.svgRect=e.$refs.svg.getBoundingClientRect()}),0)}}},R={components:{ActivityConnectorSvg:Object(m.a)(V,(function(){var e=this._self._c;return e("svg",{ref:"svg",staticClass:"pointer-events-none gl-absolute gl-z-0 gl-h-full",attrs:{"aria-hidden":"true"}},[e("line",{attrs:{x1:this.startCoordinate.x,y1:this.startCoordinate.y,x2:this.endCoordinate.x,y2:this.endCoordinate.y,stroke:"var(--gl-background-color-strong)","stroke-width":"1"}})])}),[],!1,null,null,null).exports,GlIcon:q.a,NonGfmMarkdown:G.a},props:{items:{type:Array,required:!0,validator:e=>e.every((function(e){return"object"==typeof e&&e.content&&e.messageType&&e.status&&e.timestamp}))}},data:()=>({iconRefs:[]}),watch:{items:{handler:"getTargets",immediate:!0}},mounted(){window.addEventListener("resize",this.getTargets)},beforeDestroy(){window.removeEventListener("resize",this.getTargets)},methods:{assignIcon(e,t){var n;return 0===t?this.$options.startMessage.icon:null===(n=Object(c.h)(e))||void 0===n?void 0:n.icon},filePath(e){var t;return null===(t=e.toolInfo)||void 0===t||null===(t=t.args)||void 0===t?void 0:t.file_path},isMarkdown:(e,t)=>"user"!==e.messageType&&t>0,title(e,t){var n;return 0===t?this.$options.startMessage.title:null===(n=Object(c.h)(e))||void 0===n?void 0:n.title},timeAgo:e=>Object(L.R)().format(e.timestamp),getTargets(){var e=this;0!==this.items.length&&setTimeout((function(){e.iconRefs=[e.$refs["icon-0"][0],e.$refs["icon-"+(e.items.length-1)][0]],e.$forceUpdate()}),1)}},startMessage:{icon:"play",title:Object(r.i)("DuoAgentPlatform|Session triggered"),level:1}},$={components:{ActivityLogs:Object(m.a)(R,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"gl-relative gl-flex gl-flex-col gl-pl-0",attrs:{id:"activity-list"}},[t("activity-connector-svg",{attrs:{targets:e.iconRefs}}),e._v(" "),e._l(e.items,(function(n,i){return t("li",{key:n.id,staticClass:"gl-relative gl-mb-5 gl-flex gl-w-full"},[t("div",{ref:"icon-"+i,refInFor:!0,staticClass:"gl-relative gl-mr-4 gl-flex gl-flex-col gl-items-center"},[t("div",{staticClass:"gl-border gl-rounded-full gl-bg-strong gl-p-2"},[t("gl-icon",{attrs:{name:e.assignIcon(n,i),variant:"subtle"}})],1)]),e._v(" "),t("div",{staticClass:"gl-w-full"},[t("div",{staticClass:"gl-flex gl-justify-between"},[t("strong",{staticClass:"gl-mb-1 gl-text-strong"},[e._v(e._s(e.title(n,i)))]),e._v(" "),t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(e.timeAgo(n)))])]),e._v(" "),e.isMarkdown(n,i)?t("non-gfm-markdown",{staticClass:"gl-m-0 gl-flex-1 gl-py-2 gl-wrap-anywhere",attrs:{markdown:n.content}}):t("div",{staticClass:"gl-m-0 gl-flex-1 gl-py-2"},[e._v("\n        "+e._s(n.content)+"\n      ")]),e._v(" "),e.filePath(n)?t("code",{staticClass:"gl-break-all"},[e._v(e._s(e.filePath(n)))]):e._e()],1)])}))],2)}),[],!1,null,null,null).exports,GlCollapsibleListbox:I.a,GlEmptyState:F.a,GlSkeletonLoader:g.a,GlSprintf:P.a},props:{isLoading:{type:Boolean,required:!0},duoMessages:{type:Array,required:!0}},data:()=>({selectedFilter:"verbose"}),computed:{hasLogs(){return this.duoMessages&&this.duoMessages.length>0},filteredLogs(){return"important"===this.selectedFilter?this.duoMessages.filter((function(e,t){if(0===t)return!0;const n=Object(c.h)(e);return n&&n.level&&n.level>0})):this.duoMessages},selectedFilterText(){var e=this;const t=this.$options.filterOptions.find((function(t){return t.value===e.selectedFilter}));return t?t.text:""}},methods:{onFilterChange(e){this.selectedFilter=e}},emptyJobPendingSvg:E.a,filterOptions:[{value:"verbose",text:Object(r.i)("DuoAgentsPlatform|Full view")},{value:"important",text:Object(r.i)("DuoAgentsPlatform|Concise view")}]},B={name:"AgentFlowDetails",components:{AgentFlowHeader:b,AgentFlowInfo:O,AgentFlowSubHeader:N,AgentActivityLogs:Object(m.a)($,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-h-full"},[t("div",{staticClass:"gl-border-b gl-flex gl-items-center gl-justify-end gl-bg-gray-10 gl-py-3 gl-pr-3"},[t("gl-collapsible-listbox",{attrs:{id:"log-level",items:e.$options.filterOptions,"toggle-text":e.selectedFilterText},on:{select:e.onFilterChange},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}})],1),e._v(" "),t("div",{staticClass:"gl-relative gl-flex gl-flex-col gl-overflow-x-hidden gl-px-4 gl-pt-6"},[t("div",[e.isLoading?[t("gl-skeleton-loader",{staticClass:"gl-ml-4"}),e._v(" "),t("gl-skeleton-loader",{staticClass:"gl-ml-4 gl-mt-4"})]:e.hasLogs?t("activity-logs",{attrs:{items:e.filteredLogs}}):t("gl-empty-state",{attrs:{title:e.s__("DuoAgentsPlatform|This session has no activity"),"svg-path":e.$options.emptyJobPendingSvg},scopedSlots:e._u([{key:"description",fn:function(){return[t("gl-sprintf",{attrs:{message:e.s__("DuoAgentsPlatform|To learn more about this session, view the %{boldStart}Details%{boldEnd} tab.")},scopedSlots:e._u([{key:"bold",fn:function({content:n}){return[t("strong",[e._v(e._s(n))])]}}])})]},proxy:!0}])})],2)])])}),[],!1,null,null,null).exports,GlTabs:d.a,GlTab:h.a},inject:{isSidePanelView:{default:!1}},props:{isLoading:{required:!0,type:Boolean},status:{required:!0,type:String},humanStatus:{required:!0,type:String},agentFlowDefinition:{required:!0,type:String},duoMessages:{type:Array,required:!0},executorUrl:{type:String,required:!1,default:""},createdAt:{type:String,required:!0},updatedAt:{type:String,required:!0},project:{type:Object,required:!0},userId:{type:String,required:!0},workflowId:{type:String,required:!0},canUpdateWorkflow:{type:Boolean,required:!0}},emits:["cancel-session"],AGENTS_PLATFORM_INDEX_ROUTE:f.a},U=Object(m.a)(B,(function(){var e=this,t=e._self._c;return t("div",[e.isSidePanelView?e._e():t("agent-flow-header",{attrs:{"is-loading":e.isLoading,"agent-flow-definition":e.agentFlowDefinition}}),e._v(" "),t("agent-flow-sub-header",{class:{"gl-border-t":!e.isSidePanelView},attrs:{"is-loading":e.isLoading,"agent-flow-definition":e.agentFlowDefinition,"created-at":e.createdAt,"user-id":e.userId}}),e._v(" "),t("div",{staticClass:"gl-flex",class:{"gl-mt-6":!e.isSidePanelView}},[t("gl-tabs",{staticClass:"gl-w-full",attrs:{"content-class":"gl-py-0"}},[t("gl-tab",{attrs:{title:e.s__("DuoAgentPlatform|Activity")}},[t("agent-activity-logs",{staticClass:"gl-overflow-auto",attrs:{"is-loading":e.isLoading,"duo-messages":e.duoMessages}})],1),e._v(" "),t("gl-tab",{attrs:{title:e.s__("DuoAgentPlatform|Details")}},[t("agent-flow-info",{staticClass:"gl-mt-6",attrs:{"is-loading":e.isLoading,status:e.status,"human-status":e.humanStatus,"agent-flow-definition":e.agentFlowDefinition,"created-at":e.createdAt,project:e.project,"updated-at":e.updatedAt,"executor-url":e.executorUrl,"workflow-id":e.workflowId,"can-update-workflow":e.canUpdateWorkflow},on:{"cancel-session":function(t){return e.$emit("cancel-session")}}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,M=n("Oxu3"),K={name:"AgentFlowCancelationModal",components:{GlButton:y.a,GlModal:M.a},props:{visible:{type:Boolean,required:!0},loading:{type:Boolean,required:!1,default:!1}},emits:["hide","confirm"],computed:{modalTitle:()=>Object(r.i)("DuoAgentsPlatform|Cancel session?")},methods:{handleHide(){this.$emit("hide")},handleConfirm(){this.$emit("confirm")}}},W={name:"DuoAgentsPlatformShow",components:{AgentFlowDetails:U,AgentFlowCancelationModal:Object(m.a)(K,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{"modal-id":"cancel-session-confirmation-modal",title:e.modalTitle,visible:e.visible,size:"sm","data-testid":"cancel-session-confirmation-modal"},on:{hide:e.handleHide},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("gl-button",{attrs:{"data-testid":"cancel-session-modal-cancel"},on:{click:e.handleHide}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")]),e._v(" "),t("gl-button",{attrs:{variant:"danger",loading:e.loading,"data-testid":"cancel-session-modal-confirm"},on:{click:e.handleConfirm}},[e._v("\n      "+e._s(e.s__("DuoAgentsPlatform|Cancel session"))+"\n    ")])]},proxy:!0}])},[t("p",{staticClass:"gl-mb-0"},[e._v("\n    "+e._s(e.s__("DuoAgentsPlatform|Are you sure you want to cancel this session? This action cannot be undone."))+"\n  ")])])}),[],!1,null,null,null).exports},inject:{isFlyout:{default:!1},isSidePanelView:{default:!1}},data:()=>({agentFlow:null,showCancelConfirmation:!1,isCancelling:!1}),apollo:{agentFlow:{query:s.getAgentFlow,pollInterval:u.i,variables(){return{workflowId:Object(l.c)(o.e,this.$route.params.id)}},update(e){var t;return(null==e||null===(t=e.duoWorkflowWorkflows)||void 0===t||null===(t=t.edges)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.node)||{}},result(){var e;this.isSidePanelView&&Object(c.a)(null===(e=this.agentFlow)||void 0===e?void 0:e.status)},error(e){Object(a.createAlert)({message:(null==e?void 0:e.message)||Object(r.i)("DuoAgentsPlatform|Something went wrong while fetching Agent Flows"),captureError:!0})}}},computed:{isLoading(){return this.$apollo.queries.agentFlow.loading},status(){var e;return(null===(e=this.agentFlow)||void 0===e?void 0:e.status)||""},humanStatus(){var e;return Object(c.d)(null===(e=this.agentFlow)||void 0===e?void 0:e.humanStatus)},agentFlowDefinition(){var e;return Object(c.b)(null===(e=this.agentFlow)||void 0===e?void 0:e.workflowDefinition)},duoMessages(){var e;return(null===(e=this.agentFlow)||void 0===e||null===(e=e.latestCheckpoint)||void 0===e?void 0:e.duoMessages)||[]},executorUrl(){var e;return(null===(e=this.agentFlow)||void 0===e?void 0:e.lastExecutorLogsUrl)||""},createdAt(){var e;return(null===(e=this.agentFlow)||void 0===e?void 0:e.createdAt)||""},updatedAt(){var e;return(null===(e=this.agentFlow)||void 0===e?void 0:e.updatedAt)||""},project(){var e;return(null===(e=this.agentFlow)||void 0===e?void 0:e.project)||{}},userId(){var e;return(null===(e=this.agentFlow)||void 0===e?void 0:e.userId)||""},workflowId(){var e;return(null===(e=this.$route.params.id)||void 0===e?void 0:e.toString())||""},canUpdateWorkflow(){var e;return(null===(e=this.agentFlow)||void 0===e||null===(e=e.userPermissions)||void 0===e?void 0:e.updateDuoWorkflow)||!1}},beforeDestroy(){Object(c.a)(null)},methods:{async confirmCancelSession(){this.isCancelling=!0,this.showCancelConfirmation=!1;try{await this.cancelSessionAPI(),Object(a.createAlert)({message:Object(r.i)("DuoAgentsPlatform|Session has been cancelled successfully."),variant:"success"})}catch(t){var e;const n=(null===(e=t.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.message)||Object(r.i)("DuoAgentsPlatform|Failed to cancel session. Please try again.");Object(a.createAlert)({message:n,captureError:!0,variant:"danger"})}finally{this.isCancelling=!1}},async cancelSessionAPI(){const{workflowId:e}=this,t="/api/v4/ai/duo_workflows/workflows/"+e;await i.a.patch(t,{status_event:"stop"})}}},z=Object(m.a)(W,(function(){var e=this,t=e._self._c;return t("div",[t("agent-flow-details",{class:e.isFlyout?"gl-mx-3":"",attrs:{"is-loading":e.isLoading,status:e.status,"human-status":e.humanStatus,"agent-flow-definition":e.agentFlowDefinition,"duo-messages":e.duoMessages,"executor-url":e.executorUrl,"created-at":e.createdAt,project:e.project,"updated-at":e.updatedAt,"user-id":e.userId,"workflow-id":e.workflowId,"can-update-workflow":e.canUpdateWorkflow},on:{"cancel-session":function(t){e.showCancelConfirmation=!0}}}),e._v(" "),t("agent-flow-cancelation-modal",{attrs:{visible:e.showCancelConfirmation,loading:e.isCancelling},on:{hide:function(t){e.showCancelConfirmation=!1},confirm:e.confirmCancelSession}})],1)}),[],!1,null,null,null);t.a=z.exports},zIgz:function(e,t,n){"use strict";var i={},a=n("tBpV"),r=Object(a.a)(i,(function(){return(0,this._self._c)("router-view")}),[],!1,null,null,null);t.a=r.exports}}]);
//# sourceMappingURL=fe09661c.63f8f3f5.chunk.js.map